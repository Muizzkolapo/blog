<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Open Learning University Data Analysis | Muizzkolapo</title>
<meta name="keywords" content="">
<meta name="description" content="The code above is to help format the notebook and make the outputs appear inline and within the document.
1.0 Data Preprocessing This is to load all the modules to be used in this analysis. The os module provides a way to interact with the Os of the machine, the glob module is used to retrieve the path names needed. Pandas,Numpy, Seaborn, Matplotlib.pyplot and Folium are modules used to interact with the dataset and plot visualizations.">
<meta name="author" content="Muizz Kolapo">
<link rel="canonical" href="https://muizzkolapo.github.io/blog/docs/learning_anallytics/analysis/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css" integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://muizzkolapo.github.io/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://muizzkolapo.github.io/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://muizzkolapo.github.io/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://muizzkolapo.github.io/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://muizzkolapo.github.io/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Open Learning University Data Analysis" />
<meta property="og:description" content="The code above is to help format the notebook and make the outputs appear inline and within the document.
1.0 Data Preprocessing This is to load all the modules to be used in this analysis. The os module provides a way to interact with the Os of the machine, the glob module is used to retrieve the path names needed. Pandas,Numpy, Seaborn, Matplotlib.pyplot and Folium are modules used to interact with the dataset and plot visualizations." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://muizzkolapo.github.io/blog/docs/learning_anallytics/analysis/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2023-03-04T09:13:17+00:00" />
<meta property="article:modified_time" content="2023-03-04T09:13:17+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Open Learning University Data Analysis"/>
<meta name="twitter:description" content="The code above is to help format the notebook and make the outputs appear inline and within the document.
1.0 Data Preprocessing This is to load all the modules to be used in this analysis. The os module provides a way to interact with the Os of the machine, the glob module is used to retrieve the path names needed. Pandas,Numpy, Seaborn, Matplotlib.pyplot and Folium are modules used to interact with the dataset and plot visualizations."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Docs",
      "item": "https://muizzkolapo.github.io/blog/docs/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Open Learning University Data Analysis",
      "item": "https://muizzkolapo.github.io/blog/docs/learning_anallytics/analysis/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Open Learning University Data Analysis",
  "name": "Open Learning University Data Analysis",
  "description": "The code above is to help format the notebook and make the outputs appear inline and within the document.\n1.0 Data Preprocessing This is to load all the modules to be used in this analysis. The os module provides a way to interact with the Os of the machine, the glob module is used to retrieve the path names needed. Pandas,Numpy, Seaborn, Matplotlib.pyplot and Folium are modules used to interact with the dataset and plot visualizations.",
  "keywords": [
    
  ],
  "articleBody": "The code above is to help format the notebook and make the outputs appear inline and within the document.\n1.0 Data Preprocessing This is to load all the modules to be used in this analysis. The os module provides a way to interact with the Os of the machine, the glob module is used to retrieve the path names needed. Pandas,Numpy, Seaborn, Matplotlib.pyplot and Folium are modules used to interact with the dataset and plot visualizations.\nimport os import glob from os import path import pandas as pd import numpy as np import seaborn as sns import matplotlib.pyplot as plt import folium from folium import plugins sns.set() We would be modify the code below gotten from here https://www.freecodecamp.org/news/how-to-combine-multiple-csv-files-with-8-lines-of-code-265183e0854/ to create a function that will merge all the 22 months into one single file for each region.\nTo-do In this phase we are trying to prepare the dataset into a format suitable for analysis.\nWarning!!!!! Since the document is being copied from one machine to another the paths specified in this documnet would not be the same as that of the user of the document so ensure to copy the right paths!\nDetails\nThe library used is Pandas, Os and glob which needs to be imported before use To use this chunk of code you will need to ensure you have two folders, one containing South Wales data and the other folder holds the North Wales data. Copy the paths to these folders and keep it somewhere as they are very crucial to this program. When using this program you will be required to specify file paths ensure you use the path you have copied If you want the program below to run ensure you have deleted any file with the same name as the output file you want to create as the code wont run if there is an existing file in the directory The Merged file for both North and South Wales data would be merged into the specified paths Use the python help method to see what the function does. #define the function that takes two arguments the path of the file and the file name def combine_all(fpath,fname): '''This is a function that merges all the files in a directory and compares the count of the rows of the combined file to the sum of the rows of all the component individual files. It is used to confirm the merged file is correct''' #use the os module to switch to the specified directory os.chdir(fpath) #check of the file exists in the dir and merge if it not using glob(get file names) and concat method if path.isfile(fname)==True: print('The Merged file already exists in directory please delete first or proceed with existing file') else: #pick the file extensions extension = 'csv' #assign all file names with the extension csv into a list and assign to variable all_filenames = [i for i in glob.glob('*.{}'.format(extension))] #combine all files in the list combined_csv = pd.concat([pd.read_csv(f) for f in all_filenames ]) #export to csv and name as file name inputed combined_csv.to_csv(fname, index=False, encoding='utf-8-sig') #read in the csvs with the specified file name df = pd.read_csv(fname) #confirm the count of the data tot_row_count = df['Reported by'].count() #get the individual counts of all the files and compare with total combine counts file_row = [] for i in all_filenames: if i != fname: file_count = pd.read_csv(i) row = file_count['Reported by'].count() file_row.append(row) file_row_count = sum(file_row) return tot_row_count,file_row_count Warning!!!!! Ensure you insert the path to the folder that contains the North wales dataset only!\n#Merge all the Northern Wales files, change this directory to the directory where the files are combine_all(\"/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Northwales\",'North_wales_tot.csv') The Merged file already exists in directory please delete first or proceed with existing file Warning!!!!! Ensure you insert the path to the folder that contains the South wales dataset only!\n#Merge all the Southern Wales files, change this directory to the directory where the files are combine_all(\"/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Southwales\",'South_wales_tot.csv') The Merged file already exists in directory please delete first or proceed with existing file Outcome of Data Preprocessing We now have a unified file for each of the different regions being studied North and South wales data for the 22 months being studied has been created. just viewing the outcome of the row cout above we will see that south wales has almost double the total crime count for north wales from January 2019 to october 2020.\nData cleaning 1.0 To-do In this phase we have successfully merged our data and we will be proceeding with the data cleaning process.\nWarning!!!!! Ensure to specify the path where the files have been merged from the use of the combine_all function.\nDetails\nThe library used is Pandas which needs to be imported before use To use this chunk of code you will need to ensure you specified the right paths when reading in the CSV with pandas read_csv method #reading in the Combine North wales dataset and the combined Southwales dataset #function takes the location of the files and the file output name n_wales = pd.read_csv('/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Northwales/North_wales_tot.csv') s_wales = pd.read_csv('/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Southwales/South_wales_tot.csv') #print('The shape for North wales #checking the shape of the data and missing values print(\"Shape of the North wales data is {}\".format(n_wales.shape)) print(f\"Number of missing values: {n_wales.isnull().sum().sum()}\") print(\"Shape of the South wales data is {}\".format(s_wales.shape)) print(f\"Number of missing values: {s_wales.isnull().sum().sum()}\") Shape of the North wales data is (132506, 12) Number of missing values: 190634 Shape of the South wales data is (268738, 12) Number of missing values: 427140 #getting the number of missing files for North Wales n_wales.isnull().sum() Crime ID 29048 Month 0 Reported by 0 Falls within 0 Longitude 8 Latitude 8 Location 0 LSOA code 8 LSOA name 8 Crime type 0 Last outcome category 29048 Context 132506 dtype: int64 #getting the number of missing files for South Wales s_wales.isnull().sum() Crime ID 69219 Month 0 Reported by 0 Falls within 0 Longitude 4991 Latitude 4991 Location 0 LSOA code 4991 LSOA name 4991 Crime type 0 Last outcome category 69219 Context 268738 dtype: int64 #viewing the first 3 dataset from the North wales data n_wales.head(3) .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } #viewing the first 3 dataset from the south wales data s_wales.head(3) .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } Observations from Data cleaning 1.0 Northern Wales has around 132506 rows of data with each row reperesenting a crime committed in the region South Wales has around 268738 rows of data which is around twice the rows recorded for North wales, which looks like South wales has around twice as much of the northern wales crimes committed The shape of the data is the same for both dataset and the columns and number ofcolumns match on both dataset. From viewing the first 3 rows of the North wales and south wales dataset we can see that each row reperesents a crime committed with the crime ID being the unique identifier for each row. The row captures the location of the crime, month it occurred,outcome and the context in which the crime occurred The month column is used to aggregate the crimes committed monthly and the month for which a crime occurred is whats captured. Crime ID, Last outcome category and Context are responsible for the missing values in both dataset with the null values in the South wales data higher than that of the North which is expected since South wales has more rows of data Data cleaning 2.0 To-do We are trying to compare the crimes committed between the two police jurisdictions so we would not need columns like Last outcome category,Context and crime ID since it is established that each row is a distinct crime.\nDetails\nThe library used is Pandas which needs to be imported before use We will be dropping redundant columns from the dataset #We will be dropping columns that would not impact the analysis using the drop method n_wales = n_wales.drop(['Context', 'Last outcome category','Crime ID'], axis=1) n_wales.head() .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } #We will be dropping columns that would not impact the analysis using the drop method s_wales = s_wales.drop(['Context', 'Last outcome category','Crime ID'], axis=1) s_wales.head() .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } #re-checking the shape of the data and missing values print(\"Shape of the North wales data is {}\".format(n_wales.shape)) print(f\"Number of missing values: {n_wales.isnull().sum().sum()}\") print(\"Shape of the South wales data is {}\".format(s_wales.shape)) print(f\"Number of missing values: {s_wales.isnull().sum().sum()}\") Shape of the North wales data is (132506, 9) Number of missing values: 32 Shape of the South wales data is (268738, 9) Number of missing values: 19964 #show missing values n_wales.isnull().sum() Month 0 Reported by 0 Falls within 0 Longitude 8 Latitude 8 Location 0 LSOA code 8 LSOA name 8 Crime type 0 dtype: int64 #show missing values s_wales.isnull().sum() Month 0 Reported by 0 Falls within 0 Longitude 4991 Latitude 4991 Location 0 LSOA code 4991 LSOA name 4991 Crime type 0 dtype: int64 #confirm we have same columns in dataset of both regions n_wales_columns = set(list(n_wales.columns)) s_wales_columns = set(list(s_wales.columns)) #using the zip method to check if we have any column in either dataset not in the other for i,j in zip(n_wales_columns,s_wales_columns): assert(i == j), \\ 'There is a column in one of the regions not present in the other' Observations from Data cleaning 2.0 To-do We will be fixing missing and null values\nDetails\nWe removed 3 columns that would not contribute to our analysis and which had a bulk of the missing values. After removing this values we checked for missing values again and although the missing values have reduced we can still notice we have missing values for Longitude,Latitude, LSOA code and LSOA name which are location details.\nWe asserted that we have the same columns and number of columns in both datasets, this mean we could merge the dataset down the line. for now we use them individually so we can confirm they have similar distributions\nData cleaning 3.0 : Fixing all missing values \u003c In this stage of our data cleaning procedure we will be fixing all null values for the location details missing. From the analysis above we can se that although all other location details have missing values the location variable(column) has no missing values so this would be used to fix the missing values in our dataset\nDetails\nThe library used is Pandas which needs to be imported before use We will be dropping redundant columns from the dataset #checking for Null values in the longitude column s_wales[s_wales['Longitude'].isnull()] .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } #checking for Null values in the longitude column n_wales[n_wales['Longitude'].isnull()] .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } #checking count of rows with \"No location\" n_wales[n_wales['Location'] == 'No Location'].count() Month 8 Reported by 8 Falls within 8 Longitude 0 Latitude 0 Location 8 LSOA code 0 LSOA name 0 Crime type 8 dtype: int64 #checking count of rows with \"No location\" s_wales[s_wales['Location'] == 'No Location'].count() Month 4991 Reported by 4991 Falls within 4991 Longitude 0 Latitude 0 Location 4991 LSOA code 0 LSOA name 0 Crime type 4991 dtype: int64 From the above we can see that although Location shows that it has no missing values, the inputs for the columns shows that there is no location available, we would leave this dataset as it is and group the crimes with no location as unKnown location. All the missing values has been accounted for and we will proceed with the analysis.\nn_wales['Month'].count() 132506 2.0 Data Wrangling and Normalisation In this section of the Analysis we will shape our data into formats suitable for analysis. We will be creating individual tables for the two regions and also merging the dataframes into one for analytical purposes.\nThe data dataset to be used for this step has 10 columns. We can divide these columns into two.\nColumns that shows crime details(Month, Reported by, Crime type) Columns that shows crime location details(Falls within, Longitude, Latitude, Location, LSOA code) The Month contains the month the crime was committed, a row of the data is a crime committed in the month it was recorded. Most of the crime has a recorded location details for it but some do not. We wont be dealing with crime specific locations and as such this wont be part of the columns wrangled in this step.\nReference for Month Number to Month name conversion in code below - https://stackoverflow.com/questions/37625334/python-pandas-convert-month-int-to-month-name/37625467\nWe will normalise the data using population since our data is a region based dataset, population might influence our outcome. formular = (Total crime count per region/region population) x 1000\nThat means that the numbers shown in the normalized data represent total number of crimes per 1000 people.\nStep 1: Creating dataset for count of Crime type by month and season In this step we will create the s_wales_grouped,n_wales_grouped and n_s_wales_grouped dataframes. Most of the wrangling would be done using built in methods and attributes of the Pandas module. The data created in this step is one that each row is a Crime type, normalized crime count ot 100,000 people and its corresponding month. This was done to have a way to compare the crime type for different time periods and compare the crime types. s_wales_grouped contains the South Wales data while n_wales_grouped contains Northern wales data. The n_s_wales_grouped concatenates both dataframes into one.\nsteps used\nFor each region the crime count was grouped by the Month and crime to give a dataset that shows crime rate of a particular crime type for a given month. The output of the grouping resulted two month column and as such we dropped one of them The column names where then renamed to sensible names that described the datapoints in the column We then had to reset the index to remove the month column has an index since we need it in our dataset We then used a string literal to tag each row for the region it reperesents The string split method was used to split the month column into Year and the month number which was then formatted to the corresponding month name A Seasons mapping dictionary was created to hold the different months and the corresponding season it falls into, this dictionary was then used to categorize the Months into the four seasons using a lambda function and the pandas apply method A dictionary covid_mapping was created to group the dataset into pre covid and post covid and was applied to the dataset with the same technique as above A crime dictionary was also created to encode each crime rate with 3 characters. This was then used to create a crime code column which is a code that reperesents each crime type The crime count was then normalized into total crimes per 100,000 people using the formular (Total crime count per region/region population) x 10,000 Finally, the two datasets created for North and South wales was concatenated into one single dataset. #Grouping data using the groupby method to group the data by month and crime type for a particuar region #southwales data grouped and count of crime type derived s_wales_temp = s_wales[['Month', 'Crime type']].groupby([s_wales['Month'], s_wales['Crime type']]).count() #dropping the Month column s_wales_temp = s_wales_temp.drop('Month',axis=1) #renaming the crime type to column to crime count s_wales_grouped = s_wales_temp.rename(columns={\"Crime type\": \"Crime count\"}) #resetting index to remove Crime type from being index s_wales_grouped.reset_index(inplace=True) #using string literal to assign Region name to dataframe s_wales_grouped['Region'] = 'South Wales' #splitting the month column into the year and the month number s_wales_grouped[['Year','Month Name']] = s_wales_grouped.Month.str.split(\"-\",expand=True,) #converting the Month Number to Month name using referenced code above s_wales_grouped['Month Name'] = pd.to_datetime(s_wales_grouped['Month Name'], format='%m').dt.month_name()\\ .str.slice(stop=3) #Creating a new column called season to group months into seasons #create variable mapping for Months seasons_mapping = {'Jan':'Winter','Dec':'Winter','Feb':'Winter','Mar':'Spring',\\ 'Apr':'Spring','May':'Spring','Jun':'Summer','Jul':'Summer','Aug':'Summer',\\ 'Sep':'Autumn','Oct':'Autumn','Nov':'Autumn'} #use lambda function to apply function across the column top down s_wales_grouped['season']= s_wales_grouped['Month Name'].apply(lambda x:seasons_mapping[x]) #create column to group months into pre covid and covid periods #according to timeline in link https://bfpg.co.uk/2020/04/covid-19-timeline/ covid first patient in UK was Jan # We will assume 2019 is pre covid and 2020 is covid covid_mapping = {'2019':'Pre-Covid','2020':'Covid'} #use lambda function to apply function across the column top down s_wales_grouped['Covid']= s_wales_grouped['Year'].apply(lambda x:covid_mapping[x]) #creating a key for the crime types crime_mapping = {'Other theft':'OT', 'Theft from the person':'TFP', 'Violence and sexual offences':'VSO', 'Anti-social behaviour':'ASB', 'Burglary':'BUG', 'Criminal damage and arson':'CDA', 'Drugs':'DRG', 'Public order':'PO', 'Other crime':'OC', 'Possession of weapons':'POW', 'Robbery':'ROB', 'Vehicle crime':'VC', 'Shoplifting':'SPL', 'Bicycle theft':'BT'} #use lambda function to apply function across the column top down s_wales_grouped['Crime code']= s_wales_grouped['Crime type'].apply(lambda x:crime_mapping[x]) #since our data is location based we will use the population of each region to normalise the data s_wales_grouped['Norm Crime count']= s_wales_grouped['Crime count'].apply(lambda x:(x/299239) * 10000) #Northwales data grouped and count of crime type derived n_wales_temp = n_wales[['Month', 'Crime type']].groupby([n_wales['Month'], n_wales['Crime type']]).count() n_wales_temp = n_wales_temp.drop('Month',axis=1) n_wales_grouped = n_wales_temp.rename(columns={\"Crime type\": \"Crime count\"}) #resetting index to remove Crime type from being index n_wales_grouped.reset_index(inplace=True) #using string literal to assign Region name to dataframe n_wales_grouped['Region'] = 'North Wales' #splitting the month column into the year and the month number n_wales_grouped[['Year','Month Name']] = n_wales_grouped.Month.str.split(\"-\",expand=True,) #converting the Month Number to Month name using referenced code above n_wales_grouped['Month Name'] = pd.to_datetime(n_wales_grouped['Month Name'], format='%m').dt.month_name()\\ .str.slice(stop=3) #Creating a new column called season to group months into seasons #create variable mapping for Months #use lambda function to apply function across the column top down n_wales_grouped['season']= n_wales_grouped['Month Name'].apply(lambda x:seasons_mapping[x]) #create column to group months into pre covid and covid periods #according to timeline in link https://bfpg.co.uk/2020/04/covid-19-timeline/ covid first patient in UK was Jan # We will assume 2019 is pre covid and 2020 is covid #use lambda function to apply function across the column top down n_wales_grouped['Covid']= n_wales_grouped['Year'].apply(lambda x:covid_mapping[x]) #use lambda function to apply function across the column top down n_wales_grouped['Crime code']= n_wales_grouped['Crime type'].apply(lambda x:crime_mapping[x]) #since our data is location based we will use the population of each region to normalise the data n_wales_grouped['Norm Crime count']= n_wales_grouped['Crime count'].apply(lambda x:(x/70073) * 10000) #concatenating the two regions dataset n_s_wales_grouped = pd.concat([n_wales_grouped,s_wales_grouped]) n_wales_grouped.head() .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } Step 2 Dataset for Monthly total crime count by region This dataset was created to hold the total monthly crime rate of each region separately and also in a single dataframe. The crime rate was then normalized using the formular formular (Total crime count per region/region population) x 10,000. This is to basically hold monthly distribution of crime rate in North and South Wales. The pandas framework and its methods were used extensively in this step.\nsteps used\nThe total crime count was grouped by the months and the columns were renamed using the rename method in pandas String literal was then used to assign the region to each row The data was normalised with the North and South wales population multiplied by a 10,000 to show crime per 10,000 people The index was reset to remove the month as the index The string split method was used to split the month column into Year and the month number which was then formatted to the corresponding month name Wrangled dataset for the two regions were then concatenated into a dataframe. #getting the monthly total crime distribution of crime in north wales #group crime count by month using group method dist_n_wales = n_wales[['Crime type','Month']].groupby('Month').count() #rename columns using rename method dist_n_wales = dist_n_wales.rename({'Crime type': 'Monthly Crime count'}, axis=1) #assign region to data dist_n_wales['Region'] = 'North Wales' #normalise data using population to crime per 10,000 people dist_n_wales['Norm Monthly Crime']= dist_n_wales['Monthly Crime count'].apply(lambda x:(x/70073) * 10000) #reset index dist_n_wales.reset_index(inplace=True) #split the Month column into year and month name dist_n_wales[['Year','Month Name']] = dist_n_wales.Month.str.split(\"-\",expand=True,) #converting the Month Number to Month name using referenced code above dist_n_wales['Month Name'] = pd.to_datetime(dist_n_wales['Month Name'], format='%m').dt.month_name()\\ .str.slice(stop=3) #getting the monthly total crime distribution of crime in south wales #group crime count by month using group method dist_s_wales = s_wales[['Crime type','Month']].groupby('Month').count() #rename columns using rename method dist_s_wales = dist_s_wales.rename({'Crime type': 'Monthly Crime count'}, axis=1) #assign region to data dist_s_wales['Region'] = 'South Wales' #normalise data using population to crime per 10,000 people dist_s_wales['Norm Monthly Crime']= dist_s_wales['Monthly Crime count'].apply(lambda x:(x/299239) * 10000) #reset index dist_s_wales.reset_index(inplace=True) #split the Month column into year and month name dist_s_wales[['Year','Month Name']] = dist_s_wales.Month.str.split(\"-\",expand=True,) #converting the Month Number to Month name using referenced code above dist_s_wales['Month Name'] = pd.to_datetime(dist_s_wales['Month Name'], format='%m').dt.month_name()\\ .str.slice(stop=3) #concatenating both dataframes into one table using the Concat method in pandas Monthly_crime_count_tot = pd.concat([dist_n_wales,dist_s_wales]) Monthly_crime_count_tot.head() .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } step 3 Dataset for percentage of a crime type in a particular region This dataset was created to hold the total crime rate per crime type for both South and Northern wales, we then create a unified dataframe to hold both datasets.\nsteps used\nWe used the value_counts method of pandas to get the unique crime types present in our dataset then we use the dict method to convert this into a dictionary The pandas DataFrame method was chained with the from_dict method used to create a dataframe from a dictionary The columns method was used to name our new dataset We then derived the monthly crime percentage but this was later dropped as it was not used We normalised our data with the North and South wales population multiplied by a 10,000 to show crime per 10,000 people Finally, the two datasets created where concatenated into one. #crime type by region #Creating the total rate of crime in North Wales grouped by the crime types #get the count of each crime type and then use dict method to convert it into a dictionary crime_cnt_n_wales = dict(n_wales['Crime type'].value_counts()) #Use pandas to convert the dictionary into a dataframe crime_cnt_n_wales = pd.DataFrame.from_dict(crime_cnt_n_wales,orient='index').reset_index() #rename the new columns using the pandas column method crime_cnt_n_wales.columns = ['Crime type','Tot_cnt'] #use string literal to assign region crime_cnt_n_wales['Region']='North Wales' #calculate crime percentage of each crime type crime_cnt_n_wales['Percent'] = (crime_cnt_n_wales['Tot_cnt'] / crime_cnt_n_wales['Tot_cnt'].sum()) * 100 #normalise data using population crime_cnt_n_wales['norm']= crime_cnt_n_wales['Tot_cnt'].apply(lambda x:(x/70073) * 10000) #Creating the total rate of crime in South Wales grouped by the crime types #get the count of each crime type and then use dict method to convert it into a dictionary crime_cnt_s_wales = dict(s_wales['Crime type'].value_counts()) #Use pandas to convert the dictionary into a dataframe crime_cnt_s_wales = pd.DataFrame.from_dict(crime_cnt_s_wales,orient='index').reset_index() #rename the new columns using the pandas column method crime_cnt_s_wales.columns = ['Crime type','Tot_cnt'] #use string literal to assign region crime_cnt_s_wales['Region']='South Wales' #calculate crime percentage of each crime type crime_cnt_s_wales['Percent'] = (crime_cnt_s_wales['Tot_cnt'] / crime_cnt_s_wales['Tot_cnt'].sum()) * 100 #normalise data using populatio crime_cnt_s_wales['norm']= crime_cnt_s_wales['Tot_cnt'].apply(lambda x:(x/299239) * 10000) #concatenating the total rate of crime in South and North Wales grouped by the crime types crime_cnt_tot = pd.concat([crime_cnt_n_wales,crime_cnt_s_wales]) #drop the percentage column crime_cnt_tot =crime_cnt_tot.drop(['Percent'], axis=1) crime_cnt_tot.head() .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } Outputs From Wrangling We need the data to be grouped by two variables, which is the Month of the observations and the crime type then the count of the crime type would be taken. the output of the wrangling in Step 1 above produced a dataframe which satisfies this requirement A dataframe was needed to hold the distribution of the monthly measurement by the two regions. We have three outputs from this step which is the monthly data from south wales, North wales and a unified table holding all the monthly crimes grouped by the region A dataframe was needed to hold the distribution of the monthly measurement by the two regions. We have three outputd from this step which is the monthly data from south wales, North wales and a unified table holding all the monthly crimes grouped by the region The dataset was normalized using population of each region. The output gave the crime rate per 100,000 people in both regions Output dataframes(tables) n_s_wales_grouped: This is a combined dataframe of the North and South wales dataset categorized into the crime count grouped by the crime type s_wales_grouped: This is a dataframe of the South wales dataset categorized into the crime count grouped by the crime type n_wales_grouped: This is a dataframe of the North wales dataset categorized into the crime count grouped by the crime type dist_s_wales: This shows the monthly crime count in the South Wales police district dist_n_wales: This shows the monthly crime count in the North Wales police district Monthly_crime_count_tot: This shows the combined monthly crime count in the North and South Wales police district crime_cnt_n_wales: This is the total Crime count grouped into the crime type for the North wales region crime_cnt_s_wales: This is the total Crime count grouped into the crime type for the North wales region crime_cnt_tot:This is the total Crime count grouped into the crime type combined for the North and South wales region\n3.0 Data Exploration In this section we will start exploring our dataset Graphically and also produce some summary statistics to understand the dataset. We will show plots to visualise our data.s\nTo-do Exploring the dataset using the different dataframes created during the wrangling phase\nDetails\nThe library used is Pandas, Numpy, Seaborn and Matplotlib.pyplot which needs to be imported before use To use this chunk of code you will need to use the dataframes listed in the wrangling phase above Each section shows the analysis question being answered and each section as an output summarizing the results Ensure the Data Exploration application is not working to avoid interference Ensure The method of any section is called. the section starts with a summary statistics which just shows a summary of the data #this datasets shows the monthly total crime rate for North and South wales print(dist_s_wales.describe()) Monthly Crime count Norm Monthly Crime count 22.000000 22.000000 mean 12215.363636 408.214291 std 1235.897112 41.301338 min 10322.000000 344.941669 25% 11271.250000 376.663804 50% 12066.500000 403.239551 75% 13000.250000 434.443706 max 15541.000000 519.350753 The standard deviation shows that on a average the monthly crime rate measured tend to be around (+ or -) 12,000 crimes from the average monthly crimes but when we factor population that comes into around (+ or -) 41\nThe month with the least crime rate had about 10,322 whih is 344 crimes per 10,000\nThe month with the maximum crime rate had 15,541 at 519 crimes per 10,000 people monthly\nprint(dist_n_wales.describe()) Monthly Crime count Norm Monthly Crime count 22.000000 22.000000 mean 6023.000000 859.532202 std 468.567828 66.868527 min 5348.000000 763.204087 25% 5675.750000 809.976739 50% 5991.500000 855.036890 75% 6380.250000 910.514749 max 6964.000000 993.820730 The standard deviation shows that on a average the monthly crime rate measured tend to be around + or - 468 crimes from the average monthly crimes but when we factor population that comes into around + or - 66 The month with the least crime rate had about 10,322 whih is 344 crimes per 10,000 The month with the maximum crime rate had 5348 at 855 crimes per 10,000 people monthly Although overall crime rate in South Wales is double the figures noticed for North Wales. North Wales has more crime rate per 10,000 people than South Wales\nSouth Wales has a lesser crime rate standard deviation than North Wales showing that values noticed for South Wales are closer to the mean than that of the North Wales to its mean\n#South Wales Crime count per crime type crime_cnt_s_wales.value_counts() Crime type Tot_cnt Region Percent norm Violence and sexual offences 77116 South Wales 28.695607 2577.070502 1 Vehicle crime 13155 South Wales 4.895102 439.615157 1 Theft from the person 1886 South Wales 0.701799 63.026544 1 Shoplifting 15989 South Wales 5.949661 534.322064 1 Robbery 945 South Wales 0.351644 31.580108 1 Public order 24342 South Wales 9.057893 813.463486 1 Possession of weapons 1350 South Wales 0.502348 45.114440 1 Other theft 15967 South Wales 5.941475 533.586865 1 Other crime 4057 South Wales 1.509649 135.577248 1 Drugs 8815 South Wales 3.280146 294.580586 1 Criminal damage and arson 22278 South Wales 8.289859 744.488519 1 Burglary 10363 South Wales 3.856172 346.311811 1 Bicycle theft 3256 South Wales 1.211589 108.809346 1 Anti-social behaviour 69219 South Wales 25.757057 2313.167735 1 dtype: int64 #North Wales Crime count per crime type crime_cnt_n_wales.value_counts() Crime type Tot_cnt Region Percent norm Violence and sexual offences 49913 North Wales 37.668483 7123.000300 1 Vehicle crime 2960 North Wales 2.233861 422.416623 1 Theft from the person 335 North Wales 0.252819 47.807287 1 Shoplifting 6698 North Wales 5.054865 955.860317 1 Robbery 372 North Wales 0.280742 53.087494 1 Public order 11008 North Wales 8.307548 1570.933170 1 Possession of weapons 603 North Wales 0.455074 86.053116 1 Other theft 7856 North Wales 5.928788 1121.116550 1 Other crime 2171 North Wales 1.638416 309.819759 1 Drugs 2683 North Wales 2.024814 382.886418 1 Criminal damage and arson 12842 North Wales 9.691637 1832.660226 1 Burglary 5280 North Wales 3.984725 753.499922 1 Bicycle theft 737 North Wales 0.556201 105.176031 1 Anti-social behaviour 29048 North Wales 21.922026 4145.391235 1 dtype: int64 The top 5 crimes in North and South Wales are from similar crime types def police_patrol(): '''This functions shows the top 10 locations within the different regions that has the highest crime rate this is to recommend locations in need of frequent police patrol to curb crime in the area.''' # define a temporary variable to hold the count of crimes grouped by crime location n_policing_temp = n_wales[['LSOA name','Crime type']].groupby('LSOA name').count() #reset index of the variable to change the current index n_policing_temp.reset_index(inplace=True) #sort the values in descending order to show top values n_policing = n_policing_temp.sort_values(by=['Crime type'],ascending=False).head(10) #use seaborn barplot method to create a bar plot of the top 10 values and set a title _ = sns.barplot(x = 'Crime type', y = 'LSOA name', data= n_policing)\\ .set_title(\"Top ten Crime locations in North Wales per 10,000 people\") plt.show() # define a temporary variable to hold the count of crimes grouped by crime location s_policing_temp = s_wales[['LSOA name','Crime type']].groupby('LSOA name').count() #reset index of the variable to change the current index s_policing_temp.reset_index(inplace=True) #sort the values in descending order to show top values s_policing = s_policing_temp.sort_values(by=['Crime type'],ascending=False).head(10) #use seaborn barplot method to create a bar plot of the top 10 values and set a title _ = sns.barplot(x = 'Crime type', y = 'LSOA name', data= s_policing)\\ .set_title(\"Top ten Crime locations in South Wales per 10,000 people\") plt.show() #call help method on this function to show what it does to the user help(police_patrol) police_patrol() Help on function police_patrol in module __main__: police_patrol() This functions shows the top 10 locations within the different regions that has the highest crime rate this is to recommend locations in need of frequent police patrol to curb crime in the area. To answer this question we would be using the n_s_wales_grouped dataframe. We want to know the most common crime types in South and North Wales and see if we have any similarities in the crime types. We will be using the FacetGrid plot method in Seaborn which helps plot barcharts for all the months in a grid. The row shows the Month while the Columns shows the region that is currently being analysed.\ndef Common_crimes(): '''This function creates a grid plot using seaborn to show the a monthly barplot of the crime rate of the different crime type. The rows shows the month while the column shows the region.''' #We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region #North Wales to the Left and South Wales to the right #creating a FacetGrid with Seaborn library and this is where we select dataset to be used grid = sns.FacetGrid(n_s_wales_grouped, row='Month', col='Region', height=3.5,aspect = 2.65) #create a variable crime order to hold the order in which the plots would be displayed crime_order = list(n_s_wales_grouped['Crime code'].unique()) #lets populate the facetGrid with the specific plots and add the order _ = grid.map(sns.barplot, 'Crime code','Norm Crime count',alpha=0.5,order = crime_order ) grid.fig.subplots_adjust(top=0.96) #adding the title of the plot _ = grid.fig.suptitle('Most common crime types per 10,000 people in North and South Wales', fontsize=28) plt.show() #call help method on this function to show what it does to the user help(Common_crimes) #show the crime codes print(crime_mapping) Common_crimes() Help on function Common_crimes in module __main__: Common_crimes() This function creates a grid plot using seaborn to show the a monthly barplot of the crime rate of the different crime type. The rows shows the month while the column shows the region. {'Other theft': 'OT', 'Theft from the person': 'TFP', 'Violence and sexual offences': 'VSO', 'Anti-social behaviour': 'ASB', 'Burglary': 'BUG', 'Criminal damage and arson': 'CDA', 'Drugs': 'DRG', 'Public order': 'PO', 'Other crime': 'OC', 'Possession of weapons': 'POW', 'Robbery': 'ROB', 'Vehicle crime': 'VC', 'Shoplifting': 'SPL', 'Bicycle theft': 'BT'} From the grid plot above we can see that across all the months and in both regions Violence and sexual offences(VSO) and Anti-social behaviour(ASB) have the highest crime rate for both South and North Wales. We have similar trends in crime type for both North and South Wales. North Wales has around twice the rate of Violent and Sexual offences as South wales per 10,000 people although South Wales has a higher rate of these crimes in total. We would be using the n_s_wales_grouped dataframe to find the effects of the covid lockdown on crimes to see if any crime type took a deep during the lockdown. We will be using the normalized crime count in this case, so we are looking at the crime count per 10,000 people in North and South Wales. The seaborn FacetGrid method will also be used here. The rows of the plot shows pre-covid and during covid while the column shows the region.\ndef Covid_crimes(): '''This function displays a barplot showing a comparison between the crime rate before covid and during covid, This was created using the seaborn gridplot module''' #We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region #North Wales to the Left and South Wales to the right #creating a FacetGrid with Seaborn library and assigning data to be used grid = sns.FacetGrid(n_s_wales_grouped, row='Covid', col='Region', height=3.5,aspect = 2.65) #create a variable crime order to hold the order in which the plots would be displayed crime_order2 = list(n_s_wales_grouped['Crime code'].unique()) #lets populate the facetGrid with the specific plots and add the order _ = grid.map(sns.barplot, 'Crime code','Norm Crime count',alpha=0.5,order = crime_order2) grid.fig.subplots_adjust(top=0.8) #adding the title of the plot _ = grid.fig.suptitle('Difference in crime rate before and during COVID 19 per 10,000 people', fontsize=28) plt.show() #call help method on this function to show what it does to the user help(Covid_crimes) #show the crime codes print(crime_mapping) Covid_crimes() Help on function Covid_crimes in module __main__: Covid_crimes() This function displays a barplot showing a comparison between the crime rate before covid and during covid, This was created using the seaborn gridplot module {'Other theft': 'OT', 'Theft from the person': 'TFP', 'Violence and sexual offences': 'VSO', 'Anti-social behaviour': 'ASB', 'Burglary': 'BUG', 'Criminal damage and arson': 'CDA', 'Drugs': 'DRG', 'Public order': 'PO', 'Other crime': 'OC', 'Possession of weapons': 'POW', 'Robbery': 'ROB', 'Vehicle crime': 'VC', 'Shoplifting': 'SPL', 'Bicycle theft': 'BT'} Reduced during Covid From the plot above we can see that Burglary reduced almost by half of what it was before covid. Criminal damage and arson also reduced by a bit during Covid compared to the period before. Robbery reduced to almost non existence during covid Shoplifting and Vehicle crimes reduced a bit during covid Increased during covid We saw an increase in Anti social behaviour during Covid which may be due to the new social regulations around covid lockdown. Remained the same Drug use, Other crime, Other theft, Possession of Weapons, Theft from the person, Violence and sexual offences and Bicycle theft all remained almost unchanged during Covid.\nThe analysis is to check for differences in Burglary rate during the summer and winter. We would be using the n_s_wales_grouped dataframe for this and also a FacetGrid. The row shows the season while the column shows the region.\ndef Seasonal_crimes(): '''This function displays a barplot showing a comparison between the crime rate grouped by season, This was created using the seaborn gridplot module ''' #We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region #North Wales to the Left and South Wales to the right #creating a FacetGrid with Seaborn library and assigning data to be used grid = sns.FacetGrid(n_s_wales_grouped, row='season', col='Region', height=3.5,aspect = 2.65) #create a variable crime order to hold the order in which the plots would be displayed crime_order3 = list(n_s_wales_grouped['Crime code'].unique()) #lets populate the facetGrid with the specific plots _ = grid.map(sns.barplot, 'Crime code','Norm Crime count',alpha=0.5,order=crime_order3) plt.show() #call help method on this function to show what it does to the user help(Seasonal_crimes) #show the crime codes print(crime_mapping) Seasonal_crimes() Help on function Seasonal_crimes in module __main__: Seasonal_crimes() This function displays a barplot showing a comparison between the crime rate grouped by season, This was created using the seaborn gridplot module {'Other theft': 'OT', 'Theft from the person': 'TFP', 'Violence and sexual offences': 'VSO', 'Anti-social behaviour': 'ASB', 'Burglary': 'BUG', 'Criminal damage and arson': 'CDA', 'Drugs': 'DRG', 'Public order': 'PO', 'Other crime': 'OC', 'Possession of weapons': 'POW', 'Robbery': 'ROB', 'Vehicle crime': 'VC', 'Shoplifting': 'SPL', 'Bicycle theft': 'BT'} To find the relationship between the crime rate in North and South Wales we will be using the scatterplot feature of Seaborn.\ndef crime_corr(): '''This function displays the correlation between the normalized crime rates of North and South Wales, this was created using the scatterplot method of the seaborn library''' #splice the required columns of South wales data into a variable scat_s = dist_s_wales[['Month','Norm Monthly Crime']] #rename the column names using the rename method of pandas scat_s =scat_s.rename(columns={\"Norm Monthly Crime\": \"s_wales_cnt\"}) #splice the required columns of North wales data into a variable scat_n = dist_n_wales[['Month','Norm Monthly Crime']] #rename the column names using the rename method of pandas scat_n =scat_n.rename(columns={\"Norm Monthly Crime\": \"n_wales_cnt\",'Month':'Month2'}) #concatenate the north and south wales data into one dataframe scatter_w = pd.concat([scat_s, scat_n], axis=1) #reset the index to change the current index scatter_w = scatter_w.reset_index() #drop one of the duplicated months scatter_w = scatter_w.drop(['Month2'], axis=1) #use seaborn to plot a scatterplot for crime rate and set title of plot _ = sns.scatterplot(data=scatter_w, x=\"s_wales_cnt\", y=\"n_wales_cnt\").\\ set_title(\"Correlation Plot for North and South Wales crime rate\") plt.show() #call help method on this function to show what it does to the user help(crime_corr) crime_corr() Help on function crime_corr in module __main__: crime_corr() This function displays the correlation between the normalized crime rates of North and South Wales, this was created using the scatterplot method of the seaborn library To check for the region with the highest crime rate per 10,000 people we will be using the swarmplot feature of seaborn which helps plot the normalized crime rate for each month and separates them into regions.\ndef Highest_crime(): '''This is a bee swarmplot showing the normalized crime rate in each region i.e crime rate per 10,000 people in North and South wales. This was created using the seaborn library''' #nsert the required columns into the method and select data to be used _ = sns.swarmplot(x = 'Region', y = 'Norm Monthly Crime', data= Monthly_crime_count_tot).\\ set_title(\"Swarm Plot for North and South Wales crime rate per 10,000 people\") #create the x axis label _ = plt.xlabel('Region') #create the y axis label _ = plt.ylabel('Monthly Crime count') plt.show() #call help method on this function to show what it does to the user help(Highest_crime) Highest_crime() Help on function Highest_crime in module __main__: Highest_crime() This is a bee swarmplot showing the normalized crime rate in each region i.e crime rate per 10,000 people in North and South wales. This was created using the seaborn library We will use a time series plot to show the evolution of crime rate over time. We will use the normalized crime count to plot the time series graph using the dist_n_wales and dist_s_wales dataframes with the pandas plot method\ndef crime_evo(): '''This function shows the evolution of crime over time in North and South Wales. This function uses the normalized dataset which means it shows crime per 10,000 people in both regions''' #splice the required columns from the dataframe and set index for north data n_plot = dist_n_wales[['Month','Norm Monthly Crime']].set_index('Month') #splice the required columns from the dataframe and set index for south data s_plot = dist_s_wales[['Month','Norm Monthly Crime']].set_index('Month') #assign the northern plot to a variable ax = n_plot.plot() #use the northern variable to create the southern plot s_plot.plot(ax=ax) #define the legend for the plot ax.legend([\"North Wales\", \"South Wales\"]) plt.show() #call help method on this function to show what it does to the user help(crime_evo) crime_evo() Help on function crime_evo in module __main__: crime_evo() This function shows the evolution of crime over time in North and South Wales. This function uses the normalized dataset which means it shows crime per 10,000 people in both regions The plot above shows that crime per 10,000 people in North Wales is taking a dip while crime rate in Southern Wale is taking a gradual rise.\ndef pop_crime_type(): '''The goal of this function is to display a piechart with the most popular crime types. This was created using the pie method in pandas''' #plot the crime types of North wales on a piechart plot = crime_cnt_n_wales.set_index('Crime type').plot.pie(y='Percent',figsize=(15, 15)) #plot the crime types of south wales on a piechart plot = crime_cnt_s_wales.set_index('Crime type').plot.pie(y='Percent',figsize=(15, 15)) plt.show() pop_crime_type() 4.0 Statistical Testing Three statistical tests would be performed in this section using the scipy.stats module, we will be using different classes from the module.\nResearch Question 1.0 is the Monthly crime rate for north and south wales normal? To-do We will be testing the crime rate for North and South wales to see if it has normal distribution.\nDetails\nWe will be using the shapiro-wilk test to check for the distribution. The Scipy.stats module is needed and we need to import the shapiro class from the module We need just 1-dimensional dataset to input into this method. We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis #is the Monthly crime rate for north and south wales normal? #Interpretation #import shapiro from scipy module from scipy.stats import shapiro #assign the required column to a variable data_s = dist_s_wales['Norm Monthly Crime'] #assign the output of the test to two variables stat, p = shapiro(data_s) #print out the stat and p-value print('stat=%.3f, p=%.3f' % (stat, p)) if p \u003e 0.05: print('At a 5% significance level we do not have enough evidence to reject the null hypothesis\\ that the South wales dataset has a Gaussian distribution') else: print('At a 5% significance level we have enough evidence to reject the null hypothesis\\ and accept alternative hypothesis that the South wales dataset does not have a Gaussian distribution.') stat=0.948, p=0.285 At a 5% significance level we do not have enough evidence to reject the null hypothesis that the South wales dataset has a Gaussian distribution dist_n_wales from scipy.stats import shapiro data_n = dist_n_wales['Norm Monthly Crime'] stat, p = shapiro(data_n) print('stat=%.3f, p=%.3f' % (stat, p)) if p \u003e 0.05: print('At a 5% significance level we do not have enough evidence to reject the null hypothesis\\ that the South wales dataset has a Gaussian distribution') else: print('At a 5% significance level we have enough evidence to reject the null hypothesis\\ and accept alternative hypothesis that the South wales dataset does not have a Gaussian distribution.') stat=0.942, p=0.217 At a 5% significance level we do not have enough evidence to reject the null hypothesis that the South wales dataset has a Gaussian distribution Research Question 2.0 What type of relationship do we have between North and South wales crime rate? To-do We will be testing the relationship between North and South wales Crime rate.\nDetails\nWe will be using the spearman correlation test to check for correlation. The Scipy.stats module is needed and we need to import the spearmanr class from the module The spearmanr method takes two arguments. The two datasets to be compared in a 1-d array We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis The correlation will be performed on the normalized crime count, showing crime rate per 10,000 people H0: North and South Wales crime rate are independent. H1: North and South Wales crime rate are dependent.\n# Example of the Spearman's Rank Correlation Test from scipy.stats import spearmanr #splice the required columns of South wales data into a variable scat_s = dist_s_wales[['Month','Norm Monthly Crime']] #rename the column names using the rename method of pandas scat_s =scat_s.rename(columns={\"Norm Monthly Crime\": \"s_wales_cnt\"}) #splice the required columns of North wales data into a variable scat_n = dist_n_wales[['Month','Norm Monthly Crime']] #rename the column names using the rename method of pandas scat_n =scat_n.rename(columns={\"Norm Monthly Crime\": \"n_wales_cnt\",'Month':'Month2'}) #concatenate the north and south wales data into one dataframe scatter_w = pd.concat([scat_s, scat_n], axis=1) #reset the index to change the current index scatter_w = scatter_w.reset_index() #drop one of the duplicated months scatter_w = scatter_w.drop(['Month2'], axis=1) stat, p = spearmanr(scatter_w['s_wales_cnt'], scatter_w['n_wales_cnt']) print('stat=%.3f, p=%.3f' % (stat, p)) if p \u003e 0.05: print('At a 5% significance level, we do not have enough statistical evidence to reject the\\ null hypothesis that the crime rate of North and South Wales are independent') else: print('At a 5% significance level, we have enough statistical evidence to reject the\\ null hypothesis that the crime rate of North and South Wales are independent') stat=0.333, p=0.130 At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the crime rate of North and South Wales are independent Research Question 3.0 Is there difference in the combined crime types observed for North and South Wales? To-do\nIn this experiement we have grouped the monthly crime rate across North and South wales by the crime type. We will be using a parametric ANOVA test to test if the mean of the different monthly crime rate count differs among the different crime types.\nOur assumptions are;\nThe subjects have been selected at random from the total groups. The dependent variable/response is normally distributed in each group. The dependent variable has the same variance in each group. Details\nWe will be using the one-way anova test to check for differences in the different crime rates. The Scipy.stats module is needed and we need to import the f_oneway class from the module The f_oneway method takes multiple arguments. The list of all the variables to be compared. We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis The hypotheses in this case are:\nH0 = the mean of the crime rate of South and North Wales is different in each of the different crime types H1 = the mean of the crime rate of South and North Wales is different in each of the different crime types\n#create a list of all unique crimes crime_list = list(n_s_wales_grouped['Crime type'].unique()) #create an empty list crime_type_cnt = [] #create a for loop to append each crime type and their monthly crime to the list crime_type_cnt for i in crime_list: crime_temp = s_wales_grouped[s_wales_grouped['Crime type']== i] crime_temp = crime_temp[['Norm Crime count']] crime_temp = crime_temp.rename(columns={\"Norm Crime count\": i}) crime_type_cnt.append(crime_temp) #import the method needed for this test from scipy.stats import f_oneway #assign each crime type to a variable crime1 = crime_type_cnt[0] crime2 = crime_type_cnt[1] crime3 = crime_type_cnt[2] crime4 = crime_type_cnt[3] crime5 = crime_type_cnt[4] crime6 = crime_type_cnt[5] crime7 = crime_type_cnt[6] crime8 = crime_type_cnt[7] crime9 = crime_type_cnt[8] crime10 = crime_type_cnt[9] crime11 = crime_type_cnt[10] crime12 = crime_type_cnt[11] crime13 = crime_type_cnt[12] crime14 = crime_type_cnt[13] #apply the f_oneway method stat, p = f_oneway(crime1, crime2, crime3, crime4, crime5, crime6, crime7, crime8, crime9, crime10, crime11, crime12, crime13, crime14, ) #print results print('stat=%.3f, p=%.3f' % (stat, p)) if p \u003e 0.05: print('At a 5% significance level, we do not have enough statistical evidence to reject the\\ null hypothesis that the means of the different crime types are equal') else: print('At a 5% significance level, we have enough statistical evidence to reject the null\\ hypothesis that the means of the different crime types are equal') stat=123.629, p=0.000 At a 5% significance level, we have enough statistical evidence to reject the null hypothesis that the means of the different crime types are equal Research Question 4.0 Is there a difference in Burglary rate during winter and Summer in North Wales? Details\nWe will be using the Paired t test to check for differences in the different crime rates. The Scipy.stats module is needed and we need to import the ttest_rel class from the module The ttest_rel method takes two arguments. The 1-d array of the variables to be compared. We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis To-do In this experiment the goal is to compare the Burglary rate of the two seasons Winter and Summer and this means we are trying to compare two variables with the same response to the same subject which means we would use the Paired T test for this.\nH0: the crime rate in winter and summer are the same. H1: the crime rate in winter and summer are not the same.\n# Import the ttest_rel module from scipy from scipy.stats import ttest_rel #assign the north wales normed data as pair_1_n_temp #create a dataframe pair_1_n_temp of all monthly crime rate in Winter pair_1_n_temp = n_wales_grouped[n_wales_grouped['season']== 'Winter'] pair_1_n_temp = pair_1_n_temp [pair_1_n_temp['Year'] == '2019'] pair_1_n_temp = pair_1_n_temp[pair_1_n_temp['Crime type'] == 'Burglary'] pair_1_n = pair_1_n_temp['Norm Crime count'] #create a dataframe pair_1_n_temp of all monthly crime rate in Summer pair_2_n_temp = n_wales_grouped[n_wales_grouped['season']== 'Summer'] pair_2_n_temp = pair_2_n_temp [pair_2_n_temp['Year'] == '2019'] pair_2_n_temp = pair_2_n_temp[pair_2_n_temp['Crime type'] == 'Burglary'] pair_2_n = pair_2_n_temp['Norm Crime count'] #assign outputs into stat and p stat, p = ttest_rel(pair_1_n, pair_2_n) #print output print('stat=%.3f, p=%.3f' % (stat, p)) if p \u003e 0.05: print('At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same') else: print('At a 5% significance level, we have enough statistical evidence to reject the null hypothesis and accept alternative hypothesis that the burglary crime rate during Winter and summer are different') stat=-2.312, p=0.147 At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same Research Question 5.0 Is there a difference in Burglary rate during winter and Summer in South Wales? To-do In this experiment the goal is to compare the Burglary rate of the two seasons Winter and Summer and this means we are trying to compare two variables with the same response to the same subject which means we would use the Paired T test for this.\nH0: the crime rate in winter and summer are the same. H1: the crime rate in winter and summer are not the same.\n# Import the ttest_rel module from scipy from scipy.stats import ttest_rel #assign the south wales normed data as pair_1_n_temp #create a dataframe pair_1_s of all monthly crime rate in Winter pair_1_s_temp = s_wales_grouped[s_wales_grouped['season']== 'Winter'] pair_1_s_temp = pair_1_s_temp [pair_1_s_temp['Year'] == '2019'] pair_1_s_temp = pair_1_s_temp[pair_1_s_temp['Crime type'] == 'Burglary'] pair_1_s = pair_1_s_temp['Norm Crime count'] #create a dataframe pair_2_s of all monthly crime rate in Winter pair_2_s_temp = s_wales_grouped[n_wales_grouped['season']== 'Summer'] pair_2_s_temp = pair_2_s_temp [pair_2_s_temp['Year'] == '2019'] pair_2_s_temp = pair_2_s_temp[pair_2_s_temp['Crime type'] == 'Burglary'] pair_2_s = pair_2_s_temp['Norm Crime count'] #assign outputs into stat and p stat, p = ttest_rel(pair_1_s, pair_2_s) #print output print('stat=%.3f, p=%.3f' % (stat, p)) if p \u003e 0.05: print('At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same') else: print('At a 5% significance level, we have enough statistical evidence to reject the null hypothesis and accept alternative hypothesis that the burglary crime rate during Winter and summer are different') stat=-0.453, p=0.695 At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same 5.0 Heatmap This is a simple heat map created using the Folium and Basemap library to model the crime recorded by both the North and South Wales police district\nTo-do In this task we would be drawing a heatmap for crime rate in both North and South Wales\nDetails\nThe library used is Folium which needs to be imported before use To use this chunk of code you will need to import the joined csv file The columns Context, Last outcome category,Crime ID needs to be dropped from both dataframes There is a need for the concatenation of both datarames to create a single one Use the zip method to combine the values in the longitude and latitude columnss use the folium.Map method to set the default location of the map Set the longitude and Latitude to be plotted Warning!!!!! Ensure you insert the path to the folder that contains the South and North wales dataset!\ndef heat_map(path_n,path_s): '''This is a function for creating heatmaps, the function takes the concatenated files for both North and South wales dataset, it the uses this to produce heatmap for the crime rate of these regions''' #assign the north wales file to path_n map_n_wales = pd.read_csv(path_n) #assign the south wales file to path_s map_s_wales = pd.read_csv(path_s) #drop the unwanted columns map_n_wales = map_n_wales.drop(['Context', 'Last outcome category','Crime ID'], axis=1) #drop the unwanted columns map_s_wales = map_s_wales.drop(['Context', 'Last outcome category','Crime ID'], axis=1) #drop rows with missing values map_s_wales = map_s_wales.dropna() #drop rows with missing values map_n_wales = map_n_wales.dropna() #concatenate the cleaned north and south wales data map_s_n_wales = pd.concat([map_s_wales,map_n_wales]) #zip two required columns and assign to a variable crime_locations = list(zip(map_s_n_wales.Latitude, map_s_n_wales.Longitude)) # generate map base_map = folium.Map(location=[52.2417, -3.3777], zoom_start=6.5) heatmap = plugins.HeatMap(crime_locations, radius=3, blur=2) return base_map.add_child(heatmap) #callfunction with two parameters the location of the South and North wales files heat_map('/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Northwales/North_wales_tot.csv',\\ '/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Southwales/South_wales_tot.csv') Data Exploration App This is a simple App created using the Tkinter and Pillow library to model the crime recorded by both the North and South Wales police district. The dataset used for this application has been normalized so it will be showing crime rae per population of 10,000 in both regions.\nTo-do In this task we would be creating a application for our data exploration of the dataset.\nDetails\nThe library used is Tkinter and Pillow which needs to be imported before use To use this chunk of code you will need to ensure data wrangling phase of this document has been completed already We also need to confirm that the logo file is in the same directory as this file being used. This code contains 8 functions each with its own button on the GUI, on clicking any of this button the app would be prompted to run the related function and display the output. The Seaborn module was used extensively in this code to create beautiful plots. The App displays the output of any of the button clicked in this consile. On running this block of code the application is initiated and you should see a pop where you can interact with the applications. Always close the application after use to avoid interference when using other parts of this document. import tkinter as tk from PIL import Image, ImageTk #set the root of the app root = tk.Tk() #define the space the app would cover canvas = tk.Canvas(root, width=900, height=300) #define the columns the app would span canvas.grid(columnspan = 3) #create a logo using the pillow image library #create a variable logo to hold the image logo = Image.open('logo.png') #use the photoimage method to insert the image as logo logo = ImageTk.PhotoImage(logo) #assign the label logo_label = tk.Label(image = logo) logo_label.image = logo #select the row and column image should appear logo_label.grid(column=1, row =0) #instructions instructions = tk.Label(root, text='Data Explorer', font = \"Raleway\") instructions.grid(columnspan = 3, column = 0, row=1) def police_patrol(): '''This functions shows the top 10 locations within the different regions that has the highest crime rate this is to recommend locations in need of frequent police patrol to curb crime in the area.''' # define a temporary variable to hold the count of crimes grouped by crime location n_policing_temp = n_wales[['LSOA name','Crime type']].groupby('LSOA name').count() #reset index of the variable to change the current index n_policing_temp.reset_index(inplace=True) #sort the values in descending order to show top values n_policing = n_policing_temp.sort_values(by=['Crime type'],ascending=False).head(10) #use seaborn barplot method to create a bar plot of the top 10 values and set a title _ = sns.barplot(x = 'Crime type', y = 'LSOA name', data= n_policing)\\ .set_title(\"Top ten Crime locations in North Wales per 10,000 people\") plt.show() # define a temporary variable to hold the count of crimes grouped by crime location s_policing_temp = s_wales[['LSOA name','Crime type']].groupby('LSOA name').count() #reset index of the variable to change the current index s_policing_temp.reset_index(inplace=True) #sort the values in descending order to show top values s_policing = s_policing_temp.sort_values(by=['Crime type'],ascending=False).head(10) #use seaborn barplot method to create a bar plot of the top 10 values and set a title _ = sns.barplot(x = 'Crime type', y = 'LSOA name', data= s_policing)\\ .set_title(\"Top ten Crime locations in South Wales per 10,000 people\") plt.show() #call help method on this function to show what it does to the user help(police_patrol) #switch the button status to report generated browse_text.set(\"Report Generated, check console\") def Common_crimes(): '''This function creates a grid plot using seaborn to show the a monthly barplot of the crime rate of the different crime type. The rows shows the month while the column shows the region.''' #We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region #North Wales to the Left and South Wales to the right #creating a FacetGrid with Seaborn library and this is where we select dataset to be used grid = sns.FacetGrid(n_s_wales_grouped, row='Month', col='Region', height=3.5,aspect = 2.65) #create a variable crime order to hold the order in which the plots would be displayed crime_order = list(n_s_wales_grouped['Crime code'].unique()) #lets populate the facetGrid with the specific plots and add the order _ = grid.map(sns.barplot, 'Crime code','Norm Crime count',alpha=0.5,order = crime_order ) grid.fig.subplots_adjust(top=0.96) #adding the title of the plot _ = grid.fig.suptitle('Most common crime types per 10,000 people in North and South Wales', fontsize=28) plt.show() #call help method on this function to show what it does to the user help(Common_crimes) #show the crime codes print(crime_mapping) browse_text2.set(\"Report Generated, check console\") def Covid_crimes(): '''This function displays a barplot showing a comparison between the crime rate before covid and during covid, This was created using the seaborn gridplot module''' #We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region #North Wales to the Left and South Wales to the right #creating a FacetGrid with Seaborn library and assigning data to be used grid = sns.FacetGrid(n_s_wales_grouped, row='Covid', col='Region', height=3.5,aspect = 2.65) #create a variable crime order to hold the order in which the plots would be displayed crime_order2 = list(n_s_wales_grouped['Crime code'].unique()) #lets populate the facetGrid with the specific plots and add the order _ = grid.map(sns.barplot, 'Crime code','Norm Crime count',alpha=0.5,order = crime_order2) grid.fig.subplots_adjust(top=0.8) #adding the title of the plot _ = grid.fig.suptitle('Difference in crime rate before and during COVID 19 per 10,000 people', fontsize=28) plt.show() #call help method on this function to show what it does to the user help(Covid_crimes) #show the crime codes print(crime_mapping) browse_text3.set(\"Report Generated, check console\") def Seasonal_crimes(): '''This function displays a barplot showing a comparison between the crime rate grouped by season, This was created using the seaborn gridplot module ''' #We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region #North Wales to the Left and South Wales to the right #creating a FacetGrid with Seaborn library and assigning data to be used grid = sns.FacetGrid(n_s_wales_grouped, row='season', col='Region', height=3.5,aspect = 2.65) #create a variable crime order to hold the order in which the plots would be displayed crime_order3 = list(n_s_wales_grouped['Crime code'].unique()) #lets populate the facetGrid with the specific plots _ = grid.map(sns.barplot, 'Crime code','Norm Crime count',alpha=0.5,order=crime_order3) plt.show() #call help method on this function to show what it does to the user help(Seasonal_crimes) #show the crime codes print(crime_mapping) browse_text4.set(\"Report Generated, check console\") def crime_corr(): '''This function displays the correlation between the normalized crime rates of North and South Wales, this was created using the scatterplot method of the seaborn library''' #splice the required columns of South wales data into a variable scat_s = dist_s_wales[['Month','Norm Monthly Crime']] #rename the column names using the rename method of pandas scat_s =scat_s.rename(columns={\"Norm Monthly Crime\": \"s_wales_cnt\"}) #splice the required columns of North wales data into a variable scat_n = dist_n_wales[['Month','Norm Monthly Crime']] #rename the column names using the rename method of pandas scat_n =scat_n.rename(columns={\"Norm Monthly Crime\": \"n_wales_cnt\",'Month':'Month2'}) #concatenate the north and south wales data into one dataframe scatter_w = pd.concat([scat_s, scat_n], axis=1) #reset the index to change the current index scatter_w = scatter_w.reset_index() #drop one of the duplicated months scatter_w = scatter_w.drop(['Month2'], axis=1) #use seaborn to plot a scatterplot for crime rate and set title of plot _ = sns.scatterplot(data=scatter_w, x=\"s_wales_cnt\", y=\"n_wales_cnt\").\\ set_title(\"Correlation Plot for North and South Wales crime rate\") plt.show() #call help method on this function to show what it does to the user help(crime_corr) browse_text5.set(\"Report Generated, check console\") def Highest_crime(): '''This is a bee swarmplot showing the normalized crime rate in each region i.e crime rate per 10,000 people in North and South wales. This was created using the seaborn library''' #nsert the required columns into the method and select data to be used _ = sns.swarmplot(x = 'Region', y = 'Norm Monthly Crime', data= Monthly_crime_count_tot).\\ set_title(\"Swarm Plot for North and South Wales crime rate per 10,000 people\") #create the x axis label _ = plt.xlabel('Region') #create the y axis label _ = plt.ylabel('Monthly Crime count') plt.show() #call help method on this function to show what it does to the user help(Highest_crime) browse_text6.set(\"Report Generated, check console\") def crime_evo(): '''This function shows the evolution of crime over time in North and South Wales. This function uses the normalized dataset which means it shows crime per 10,000 people in both regions''' #splice the required columns from the dataframe and set index for north data n_plot = dist_n_wales[['Month','Norm Monthly Crime']].set_index('Month') #splice the required columns from the dataframe and set index for south data s_plot = dist_s_wales[['Month','Norm Monthly Crime']].set_index('Month') #assign the northern plot to a variable ax = n_plot.plot() #use the northern variable to create the southern plot s_plot.plot(ax=ax) #define the legend for the plot ax.legend([\"North Wales\", \"South Wales\"]) plt.show() #call help method on this function to show what it does to the user help(crime_evo) browse_text7.set(\"Report Generated, check console\") def pop_crime_type(): '''The goal of this function is to display a piechart with the most popular crime types. This was created using the pie method in pandas''' #plot the crime types of North wales on a piechart plot = crime_cnt_n_wales.set_index('Crime type').plot.pie(y='Percent',figsize=(15, 15)) #plot the crime types of south wales on a piechart plot = crime_cnt_s_wales.set_index('Crime type').plot.pie(y='Percent',figsize=(15, 15)) plt.show() browse_text8.set(\"Report Generated, check console\") #police_patrol button #assign the browse text as a string browse_text = tk.StringVar() #create a button to call the police_patrol function on click and assign the parameters browse_btn = tk.Button(root, textvariable=browse_text,command = lambda:police_patrol(), \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", height=2, width=50) #set the name of the button browse_text.set(\"Generate areas in need of patrol\") #assign the column and row the button should appear browse_btn.grid(column=1, row=2) #Common_crimes button #assign the browse text as a string browse_text2 = tk.StringVar() #create a button to call the Common_crimes function on click and assign the parameters browse_btn2 = tk.Button(root, textvariable=browse_text2, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:Common_crimes(), \\ height=2, width=50) #set the name of the button browse_text2.set(\"Common Crimes in North and South Wales\") #assign the column and row the button should appear browse_btn2.grid(column=1, row=4) #Common_crimes button #assign the browse text as a string browse_text3 = tk.StringVar() #create a button to call the Common_crimes function on click and assign the parameters browse_btn3 = tk.Button(root, textvariable=browse_text3, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:Covid_crimes(), \\ height=2, width=50) #set the name of the button browse_text3.set(\"Pre-Covid Crimes Vs Covid Crimes\") #assign the column and row the button should appear browse_btn3.grid(column=1, row=6) #Seasonal_crimes button #assign the browse text as a string browse_text4 = tk.StringVar() #create a button to call the Seasonal_crimes function on click and assign the parameters browse_btn4 = tk.Button(root, textvariable=browse_text4, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:Seasonal_crimes(), \\ height=2, width=50) #set the name of the button browse_text4.set(\"Crime rate by Season\") #assign the column and row the button should appear browse_btn4.grid(column=1, row=7) #crime_corr button #assign the browse text as a string browse_text5 = tk.StringVar() #create a button to call the crime_corr function on click and assign the parameters browse_btn5 = tk.Button(root, textvariable=browse_text5, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:crime_corr(), \\ height=2, width=50) #set the name of the button browse_text5.set(\"North and South Wales Crime correlation\") #assign the column and row the button should appear browse_btn5.grid(column=1, row=8) #Highest_crime button #assign the browse text as a string browse_text6 = tk.StringVar() #create a button to call the Highest_crime function on click and assign the parameters browse_btn6 = tk.Button(root, textvariable=browse_text6, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:Highest_crime(), \\ height=2, width=50) #set the name of the button browse_text6.set(\"Region With Highest Crime Rate\") #assign the column and row the button should appear browse_btn6.grid(column=1, row=9) #crime_evo button #assign the browse text as a string browse_text7 = tk.StringVar() #create a button to call the crime_evo function on click and assign the parameters browse_btn7 = tk.Button(root, textvariable=browse_text7, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:crime_evo(), \\ height=2, width=50) #set the name of the button browse_text7.set(\"Evolution of crime over time\") #assign the column and row the button should appear browse_btn7.grid(column=1, row=10) #pop_crime_type button #assign the browse text as a string browse_text8 = tk.StringVar() #create a button to call the pop_crime_type function on click and assign the parameters browse_btn8 = tk.Button(root, textvariable=browse_text8, \\ font=\"Raleway\", bg=\"#20bebe\", fg=\"white\", command = lambda:pop_crime_type(), \\ height=2, width=50) #set the name of the button browse_text8.set(\"Popular Crime type in North and South Wales\") #assign the column and row the button should appear browse_btn8.grid(column=1, row=12) canvas = tk.Canvas(root, width=600, height=250) #set how many columns the app should span canvas.grid(columnspan=3) root.mainloop() ",
  "wordCount" : "11082",
  "inLanguage": "en",
  "datePublished": "2023-03-04T09:13:17Z",
  "dateModified": "2023-03-04T09:13:17Z",
  "author":{
    "@type": "Person",
    "name": "Muizz Kolapo"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://muizzkolapo.github.io/blog/docs/learning_anallytics/analysis/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Muizzkolapo",
    "logo": {
      "@type": "ImageObject",
      "url": "https://muizzkolapo.github.io/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://muizzkolapo.github.io/blog/" accesskey="h" title="Muizzkolapo (Alt + H)">Muizzkolapo</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://muizzkolapo.github.io/blog/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://muizzkolapo.github.io/blog/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://muizzkolapo.github.io/blog/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Open Learning University Data Analysis
    </h1>
    <div class="post-meta"><span title='2023-03-04 09:13:17 +0000 UTC'>March 4, 2023</span>&nbsp;&nbsp;53 min&nbsp;&nbsp;Muizz Kolapo

</div>
  </header> 
  <div class="post-content"><p>The code above is to help format the notebook and make the outputs appear inline and within the document.</p>
<h1 id="10-data-preprocessing">1.0 Data Preprocessing<a hidden class="anchor" aria-hidden="true" href="#10-data-preprocessing">#</a></h1>
<p>This is to load all the modules to be used in this analysis.
The os module provides a way to interact with the Os of the machine, the glob module is used to retrieve the
path names needed. Pandas,Numpy, Seaborn, Matplotlib.pyplot and Folium are modules used to interact with the
dataset and plot visualizations.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> glob
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> os <span style="color:#f92672">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> folium
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> folium <span style="color:#f92672">import</span> plugins
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set()
</span></span></code></pre></div><p>We would be modify the code below gotten from here <a href="https://www.freecodecamp.org/news/how-to-combine-multiple-csv-files-with-8-lines-of-code-265183e0854/">https://www.freecodecamp.org/news/how-to-combine-multiple-csv-files-with-8-lines-of-code-265183e0854/</a>  to create a function that will merge all the 22 months into one single file for each region.</p>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
In this phase we are trying to prepare the dataset into a format suitable for analysis.</p>
<p><!-- raw HTML omitted -->Warning!!!!!<!-- raw HTML omitted -->
Since the document  is being copied from one machine to another the paths specified in this documnet would not be the same as that of the user of the document so ensure to copy the right paths!</p>
<p>Details</p>
<ul>
<li>The library used is Pandas, Os and glob which needs to be imported before use</li>
<li>To use this chunk of code you will need to ensure you have two folders, one containing South Wales data and the other folder holds the North Wales data. Copy the paths to these folders and keep it somewhere as they are very crucial to this program.</li>
<li>When using this program you will be required to specify file paths ensure you use the path you have copied</li>
<li>If you want the program below to run ensure you have deleted any file with the same name as the output file you want to create as the code wont run if there is an existing file in the directory</li>
<li>The Merged file for both North and South Wales data would be merged into the specified paths</li>
<li>Use the python help method to see what the function does.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#define the function that takes two arguments the path of the file and the file name</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">combine_all</span>(fpath,fname):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This is a function that merges all the files in a directory and compares the count of the rows of the
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    combined file to the sum of the rows of all the component individual files. It is used to confirm the
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    merged file is correct&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use the os module to switch to the specified directory</span>
</span></span><span style="display:flex;"><span>    os<span style="color:#f92672">.</span>chdir(fpath)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#check of the file exists in the dir and merge if it not using glob(get file names) and concat method</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> path<span style="color:#f92672">.</span>isfile(fname)<span style="color:#f92672">==</span><span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;The Merged file already exists in directory please delete first or proceed with existing file&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#pick the file extensions</span>
</span></span><span style="display:flex;"><span>        extension <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;csv&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#assign all file names with the extension csv into a list and assign to variable</span>
</span></span><span style="display:flex;"><span>        all_filenames <span style="color:#f92672">=</span> [i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> glob<span style="color:#f92672">.</span>glob(<span style="color:#e6db74">&#39;*.</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(extension))]
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#combine all files in the list</span>
</span></span><span style="display:flex;"><span>        combined_csv <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([pd<span style="color:#f92672">.</span>read_csv(f) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> all_filenames ])
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#export to csv and name as file name inputed</span>
</span></span><span style="display:flex;"><span>        combined_csv<span style="color:#f92672">.</span>to_csv(fname, index<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8-sig&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#read in the csvs with the specified file name</span>
</span></span><span style="display:flex;"><span>        df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(fname)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#confirm the count of the data</span>
</span></span><span style="display:flex;"><span>        tot_row_count <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;Reported by&#39;</span>]<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#get the individual counts of all the files and compare with total combine counts</span>
</span></span><span style="display:flex;"><span>        file_row <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> all_filenames:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> i <span style="color:#f92672">!=</span> fname:
</span></span><span style="display:flex;"><span>                file_count <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(i)
</span></span><span style="display:flex;"><span>                row <span style="color:#f92672">=</span> file_count[<span style="color:#e6db74">&#39;Reported by&#39;</span>]<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>                file_row<span style="color:#f92672">.</span>append(row)
</span></span><span style="display:flex;"><span>                file_row_count <span style="color:#f92672">=</span> sum(file_row)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> tot_row_count,file_row_count
</span></span></code></pre></div><p><!-- raw HTML omitted -->Warning!!!!!<!-- raw HTML omitted -->
Ensure you insert the path to the folder that contains the North wales dataset only!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Merge all the Northern Wales files, change this directory to the directory where the files are</span>
</span></span><span style="display:flex;"><span>combine_all(<span style="color:#e6db74">&#34;/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Northwales&#34;</span>,<span style="color:#e6db74">&#39;North_wales_tot.csv&#39;</span>)
</span></span></code></pre></div><pre><code>The Merged file already exists in directory please delete first or proceed with existing file
</code></pre>
<p><!-- raw HTML omitted -->Warning!!!!!<!-- raw HTML omitted -->
Ensure you insert the path to the folder that contains the South wales dataset only!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Merge all the Southern Wales files, change this directory to the directory where the files are</span>
</span></span><span style="display:flex;"><span>combine_all(<span style="color:#e6db74">&#34;/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Southwales&#34;</span>,<span style="color:#e6db74">&#39;South_wales_tot.csv&#39;</span>)
</span></span></code></pre></div><pre><code>The Merged file already exists in directory please delete first or proceed with existing file
</code></pre>
<h3 id="outcome-of-data-preprocessing">Outcome of Data Preprocessing<a hidden class="anchor" aria-hidden="true" href="#outcome-of-data-preprocessing">#</a></h3>
<p>We now have a unified file for each of the different regions being studied North and South wales data for the 22 months being studied has been created. just viewing the outcome of the row cout above we will see that south wales has almost double the total crime
count for north wales from January 2019 to october 2020.</p>
<h3 id="data-cleaning-10">Data cleaning 1.0<a hidden class="anchor" aria-hidden="true" href="#data-cleaning-10">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
In this phase we have successfully merged our data and we will be proceeding with the data cleaning process.</p>
<p><!-- raw HTML omitted -->Warning!!!!!<!-- raw HTML omitted -->
Ensure to specify the path where the files have been merged from the use of the combine_all function.</p>
<p>Details</p>
<ul>
<li>The library used is Pandas which needs to be imported before use</li>
<li>To use this chunk of code you will need to ensure you specified the right paths when reading in the CSV with pandas read_csv method</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#reading in the Combine North wales dataset  and the combined Southwales dataset</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#function takes the location of the files and the file output name</span>
</span></span><span style="display:flex;"><span>n_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Northwales/North_wales_tot.csv&#39;</span>)
</span></span><span style="display:flex;"><span>s_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Southwales/South_wales_tot.csv&#39;</span>) 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#print(&#39;The shape for North wales</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#checking the shape of the data and missing values</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Shape of the North wales data is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(n_wales<span style="color:#f92672">.</span>shape))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of missing values: </span><span style="color:#e6db74">{</span>n_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>sum()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Shape of the South wales data is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(s_wales<span style="color:#f92672">.</span>shape))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of missing values: </span><span style="color:#e6db74">{</span>s_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>sum()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><pre><code>Shape of the North wales data is (132506, 12)
Number of missing values: 190634
Shape of the South wales data is (268738, 12)
Number of missing values: 427140
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#getting the number of missing files for North Wales</span>
</span></span><span style="display:flex;"><span>n_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>Crime ID                  29048
Month                         0
Reported by                   0
Falls within                  0
Longitude                     8
Latitude                      8
Location                      0
LSOA code                     8
LSOA name                     8
Crime type                    0
Last outcome category     29048
Context                  132506
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#getting the number of missing files for South Wales</span>
</span></span><span style="display:flex;"><span>s_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>Crime ID                  69219
Month                         0
Reported by                   0
Falls within                  0
Longitude                  4991
Latitude                   4991
Location                      0
LSOA code                  4991
LSOA name                  4991
Crime type                    0
Last outcome category     69219
Context                  268738
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#viewing the first 3 dataset from the North wales data</span>
</span></span><span style="display:flex;"><span>n_wales<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#viewing the first 3 dataset from the south wales data</span>
</span></span><span style="display:flex;"><span>s_wales<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="observations-from-data-cleaning-10">Observations from Data cleaning 1.0<a hidden class="anchor" aria-hidden="true" href="#observations-from-data-cleaning-10">#</a></h3>
<ol>
<li>Northern Wales has around 132506 rows of data with each row reperesenting a crime committed in the region</li>
<li>South Wales has around 268738 rows of data which is around twice the rows recorded for North wales, which looks like South wales has around twice as much of the northern wales crimes committed</li>
<li>The shape of the data is the same for both dataset and the columns and number ofcolumns match on both dataset.</li>
<li>From viewing the first 3 rows of the North wales and south wales dataset we can see that each row reperesents a crime committed with the crime ID being the unique identifier for each row. The row captures the location of the crime, month it occurred,outcome and the context in which the crime occurred</li>
<li>The month column is used to aggregate the crimes committed monthly and the month for which a crime occurred is whats captured.</li>
<li>Crime ID, Last outcome category and Context  are responsible for the missing values in both dataset with the null values in the South wales data higher than that of the North which is expected since South wales has more rows of data</li>
</ol>
<h3 id="data-cleaning-20">Data cleaning 2.0<a hidden class="anchor" aria-hidden="true" href="#data-cleaning-20">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
We are trying to compare the crimes committed between the two police jurisdictions so we would not need columns like Last outcome category,Context and crime ID since it is established that each row is a distinct crime.</p>
<p>Details</p>
<ul>
<li>The library used is Pandas which needs to be imported before use</li>
<li>We will be dropping redundant columns from the dataset</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#We will be dropping columns that would not impact the analysis using the drop method</span>
</span></span><span style="display:flex;"><span>n_wales <span style="color:#f92672">=</span> n_wales<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Context&#39;</span>, <span style="color:#e6db74">&#39;Last outcome category&#39;</span>,<span style="color:#e6db74">&#39;Crime ID&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>n_wales<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#We will be dropping columns that would not impact the analysis using the drop method</span>
</span></span><span style="display:flex;"><span>s_wales <span style="color:#f92672">=</span> s_wales<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Context&#39;</span>, <span style="color:#e6db74">&#39;Last outcome category&#39;</span>,<span style="color:#e6db74">&#39;Crime ID&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>s_wales<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#re-checking the shape of the data and missing values</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Shape of the North wales data is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(n_wales<span style="color:#f92672">.</span>shape))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of missing values: </span><span style="color:#e6db74">{</span>n_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>sum()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Shape of the South wales data is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(s_wales<span style="color:#f92672">.</span>shape))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of missing values: </span><span style="color:#e6db74">{</span>s_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>sum()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><pre><code>Shape of the North wales data is (132506, 9)
Number of missing values: 32
Shape of the South wales data is (268738, 9)
Number of missing values: 19964
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#show missing values</span>
</span></span><span style="display:flex;"><span>n_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>Month           0
Reported by     0
Falls within    0
Longitude       8
Latitude        8
Location        0
LSOA code       8
LSOA name       8
Crime type      0
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#show missing values</span>
</span></span><span style="display:flex;"><span>s_wales<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>Month              0
Reported by        0
Falls within       0
Longitude       4991
Latitude        4991
Location           0
LSOA code       4991
LSOA name       4991
Crime type         0
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#confirm we have same columns in dataset of both regions</span>
</span></span><span style="display:flex;"><span>n_wales_columns <span style="color:#f92672">=</span> set(list(n_wales<span style="color:#f92672">.</span>columns))
</span></span><span style="display:flex;"><span>s_wales_columns <span style="color:#f92672">=</span> set(list(s_wales<span style="color:#f92672">.</span>columns))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#using the zip method to check if we have any column in either dataset not in the other</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i,j <span style="color:#f92672">in</span> zip(n_wales_columns,s_wales_columns):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span>(i <span style="color:#f92672">==</span> j), \
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;There is a column in one of the regions not present in the other&#39;</span>
</span></span></code></pre></div><h3 id="observations-from-data-cleaning-20">Observations from Data cleaning 2.0<a hidden class="anchor" aria-hidden="true" href="#observations-from-data-cleaning-20">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
We will be fixing missing and null values</p>
<p>Details</p>
<ul>
<li>
<p>We removed 3 columns that would not contribute to our analysis and which had a bulk of the missing values. After removing this values we checked for missing values again and although the missing values have reduced we can still notice we have missing values for Longitude,Latitude, LSOA code and LSOA name which are location details.</p>
</li>
<li>
<p>We asserted that we have the same columns and number of columns in both datasets, this mean we could merge the dataset down the line. for now we use them individually so we can confirm they have similar distributions</p>
</li>
</ul>
<h3 id="data-cleaning-30--fixing-all-missing-values">Data cleaning 3.0 : Fixing all missing values<a hidden class="anchor" aria-hidden="true" href="#data-cleaning-30--fixing-all-missing-values">#</a></h3>
<p>&lt;
In this stage of our data cleaning procedure we will be fixing all null values for the location details missing. From the analysis above we can se that although all other location details have missing values the location variable(column) has no missing values so this would be used to fix the missing values in our dataset</p>
<p>Details</p>
<ul>
<li>The library used is Pandas which needs to be imported before use</li>
<li>We will be dropping redundant columns from the dataset</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking for Null values in the longitude column</span>
</span></span><span style="display:flex;"><span>s_wales[s_wales[<span style="color:#e6db74">&#39;Longitude&#39;</span>]<span style="color:#f92672">.</span>isnull()]
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking for Null values in the longitude column</span>
</span></span><span style="display:flex;"><span>n_wales[n_wales[<span style="color:#e6db74">&#39;Longitude&#39;</span>]<span style="color:#f92672">.</span>isnull()]
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking count of rows with &#34;No location&#34;</span>
</span></span><span style="display:flex;"><span>n_wales[n_wales[<span style="color:#e6db74">&#39;Location&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;No Location&#39;</span>]<span style="color:#f92672">.</span>count()
</span></span></code></pre></div><pre><code>Month           8
Reported by     8
Falls within    8
Longitude       0
Latitude        0
Location        8
LSOA code       0
LSOA name       0
Crime type      8
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#checking count of rows with &#34;No location&#34;</span>
</span></span><span style="display:flex;"><span>s_wales[s_wales[<span style="color:#e6db74">&#39;Location&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;No Location&#39;</span>]<span style="color:#f92672">.</span>count()
</span></span></code></pre></div><pre><code>Month           4991
Reported by     4991
Falls within    4991
Longitude          0
Latitude           0
Location        4991
LSOA code          0
LSOA name          0
Crime type      4991
dtype: int64
</code></pre>
<p>From the above we can see that although Location shows that it has no missing values, the inputs for the columns shows that there is no location available, we would leave this dataset as it is and group the crimes with no location as unKnown location. All the missing values has been accounted for and we will proceed with the analysis.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n_wales[<span style="color:#e6db74">&#39;Month&#39;</span>]<span style="color:#f92672">.</span>count()
</span></span></code></pre></div><pre><code>132506
</code></pre>
<h1 id="20-data-wrangling-and-normalisation">2.0 Data Wrangling and Normalisation<a hidden class="anchor" aria-hidden="true" href="#20-data-wrangling-and-normalisation">#</a></h1>
<p>In this section of the Analysis we will shape our data into formats suitable for analysis. We will be creating individual tables for the two regions and also merging the dataframes into one for analytical purposes.</p>
<p>The data dataset to be used for this step has 10 columns. We can divide these columns into two.</p>
<ul>
<li>Columns that shows crime details(Month, Reported by, Crime type)</li>
<li>Columns that shows crime location details(Falls within, Longitude, Latitude, Location, LSOA code)</li>
</ul>
<p>The Month contains the month the crime was committed, a row of the data is a crime committed in the month it was recorded. Most of the crime has a recorded location details for it but some do not. We wont be dealing with crime specific locations and as such this wont be part of the columns wrangled in this step.</p>
<p>Reference for Month Number to Month name conversion in code below - <a href="https://stackoverflow.com/questions/37625334/python-pandas-convert-month-int-to-month-name/37625467">https://stackoverflow.com/questions/37625334/python-pandas-convert-month-int-to-month-name/37625467</a></p>
<p>We will normalise the data using population since our data is a region based dataset, population might influence our outcome. <!-- raw HTML omitted -->
formular  = (Total crime count per region/region population) x 1000</p>
<p>That means that the numbers shown in the normalized data represent total number of crimes per 1000 people.</p>
<h5 id="step-1-creating-dataset-for-count-of-crime-type-by-month-and-season">Step 1: Creating dataset for count of Crime type by month and season<a hidden class="anchor" aria-hidden="true" href="#step-1-creating-dataset-for-count-of-crime-type-by-month-and-season">#</a></h5>
<p>In this step we will create the s_wales_grouped,n_wales_grouped and n_s_wales_grouped dataframes. Most of the wrangling would be done using built in methods and attributes of the Pandas module. The data created in this step is one that each row is a Crime type, normalized crime count ot 100,000 people and its corresponding month. This was done to have a way to compare the crime type for different time periods and compare the crime types. s_wales_grouped contains the South Wales data while n_wales_grouped contains Northern wales data. The n_s_wales_grouped concatenates both dataframes into one.</p>
<p><!-- raw HTML omitted -->steps used<!-- raw HTML omitted --></p>
<ul>
<li>For each region the crime count was grouped by the Month and crime to give a dataset that shows crime rate of a particular crime type for a given month.</li>
<li>The output of the grouping resulted two month column and as such we dropped one of them</li>
<li>The column names where then renamed to sensible names that described the datapoints in the column</li>
<li>We then had to reset the index to remove the month column has an index since we need it in our dataset</li>
<li>We then used a string literal to tag each row for the region it reperesents</li>
<li>The string split method was used to split the month column into Year and the month number which was then formatted to the corresponding month name</li>
<li>A Seasons mapping dictionary was created to hold the different months and the corresponding season it falls into, this dictionary was then used to categorize the Months into the four seasons using a lambda function and the pandas apply method</li>
<li>A dictionary covid_mapping was created to group the dataset into pre covid and post covid and was applied to the dataset with the same technique as above</li>
<li>A crime dictionary was also created to encode each crime rate with 3 characters. This was then used to create a crime code column which is a code that reperesents each crime type</li>
<li>The crime count was then normalized into total crimes per 100,000 people using the formular (Total crime count per region/region population) x 10,000</li>
<li>Finally, the two datasets created for North and South wales was concatenated into one single dataset.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#Grouping data using the groupby method to group the data by month and crime type for a particuar region</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#southwales data grouped and count of crime type derived</span>
</span></span><span style="display:flex;"><span>s_wales_temp <span style="color:#f92672">=</span> s_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>, <span style="color:#e6db74">&#39;Crime type&#39;</span>]]<span style="color:#f92672">.</span>groupby([s_wales[<span style="color:#e6db74">&#39;Month&#39;</span>], s_wales[<span style="color:#e6db74">&#39;Crime type&#39;</span>]])<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#dropping the Month column</span>
</span></span><span style="display:flex;"><span>s_wales_temp <span style="color:#f92672">=</span> s_wales_temp<span style="color:#f92672">.</span>drop(<span style="color:#e6db74">&#39;Month&#39;</span>,axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#renaming the crime type to column to crime count</span>
</span></span><span style="display:flex;"><span>s_wales_grouped <span style="color:#f92672">=</span> s_wales_temp<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Crime type&#34;</span>: <span style="color:#e6db74">&#34;Crime count&#34;</span>})
</span></span><span style="display:flex;"><span><span style="color:#75715e">#resetting index to remove Crime type from being index</span>
</span></span><span style="display:flex;"><span>s_wales_grouped<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#using string literal to assign Region name to dataframe</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[<span style="color:#e6db74">&#39;Region&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;South Wales&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#splitting the month column into the year and the month number</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[[<span style="color:#e6db74">&#39;Year&#39;</span>,<span style="color:#e6db74">&#39;Month Name&#39;</span>]] <span style="color:#f92672">=</span> s_wales_grouped<span style="color:#f92672">.</span>Month<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;-&#34;</span>,expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#converting the Month Number to Month name using referenced code above</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[<span style="color:#e6db74">&#39;Month Name&#39;</span>] <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(s_wales_grouped[<span style="color:#e6db74">&#39;Month Name&#39;</span>], format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%m&#39;</span>)<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month_name()\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>slice(stop<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Creating a new column called season to group months into seasons</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create variable mapping for Months</span>
</span></span><span style="display:flex;"><span>seasons_mapping <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;Jan&#39;</span>:<span style="color:#e6db74">&#39;Winter&#39;</span>,<span style="color:#e6db74">&#39;Dec&#39;</span>:<span style="color:#e6db74">&#39;Winter&#39;</span>,<span style="color:#e6db74">&#39;Feb&#39;</span>:<span style="color:#e6db74">&#39;Winter&#39;</span>,<span style="color:#e6db74">&#39;Mar&#39;</span>:<span style="color:#e6db74">&#39;Spring&#39;</span>,\
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#39;Apr&#39;</span>:<span style="color:#e6db74">&#39;Spring&#39;</span>,<span style="color:#e6db74">&#39;May&#39;</span>:<span style="color:#e6db74">&#39;Spring&#39;</span>,<span style="color:#e6db74">&#39;Jun&#39;</span>:<span style="color:#e6db74">&#39;Summer&#39;</span>,<span style="color:#e6db74">&#39;Jul&#39;</span>:<span style="color:#e6db74">&#39;Summer&#39;</span>,<span style="color:#e6db74">&#39;Aug&#39;</span>:<span style="color:#e6db74">&#39;Summer&#39;</span>,\
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#39;Sep&#39;</span>:<span style="color:#e6db74">&#39;Autumn&#39;</span>,<span style="color:#e6db74">&#39;Oct&#39;</span>:<span style="color:#e6db74">&#39;Autumn&#39;</span>,<span style="color:#e6db74">&#39;Nov&#39;</span>:<span style="color:#e6db74">&#39;Autumn&#39;</span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use lambda function to apply function across the column top down</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[<span style="color:#e6db74">&#39;season&#39;</span>]<span style="color:#f92672">=</span> s_wales_grouped[<span style="color:#e6db74">&#39;Month Name&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:seasons_mapping[x])
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create column to group months into pre covid and covid periods</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#according to timeline in link https://bfpg.co.uk/2020/04/covid-19-timeline/ covid first patient in UK was Jan</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># We will assume 2019 is pre covid and 2020 is covid</span>
</span></span><span style="display:flex;"><span>covid_mapping <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;2019&#39;</span>:<span style="color:#e6db74">&#39;Pre-Covid&#39;</span>,<span style="color:#e6db74">&#39;2020&#39;</span>:<span style="color:#e6db74">&#39;Covid&#39;</span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use lambda function to apply function across the column top down</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[<span style="color:#e6db74">&#39;Covid&#39;</span>]<span style="color:#f92672">=</span> s_wales_grouped[<span style="color:#e6db74">&#39;Year&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:covid_mapping[x])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#creating a key for the crime types</span>
</span></span><span style="display:flex;"><span>crime_mapping <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;Other theft&#39;</span>:<span style="color:#e6db74">&#39;OT&#39;</span>, <span style="color:#e6db74">&#39;Theft from the person&#39;</span>:<span style="color:#e6db74">&#39;TFP&#39;</span>,
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;Violence and sexual offences&#39;</span>:<span style="color:#e6db74">&#39;VSO&#39;</span>, <span style="color:#e6db74">&#39;Anti-social behaviour&#39;</span>:<span style="color:#e6db74">&#39;ASB&#39;</span>,
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;Burglary&#39;</span>:<span style="color:#e6db74">&#39;BUG&#39;</span>, <span style="color:#e6db74">&#39;Criminal damage and arson&#39;</span>:<span style="color:#e6db74">&#39;CDA&#39;</span>, <span style="color:#e6db74">&#39;Drugs&#39;</span>:<span style="color:#e6db74">&#39;DRG&#39;</span>, <span style="color:#e6db74">&#39;Public order&#39;</span>:<span style="color:#e6db74">&#39;PO&#39;</span>,
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;Other crime&#39;</span>:<span style="color:#e6db74">&#39;OC&#39;</span>, <span style="color:#e6db74">&#39;Possession of weapons&#39;</span>:<span style="color:#e6db74">&#39;POW&#39;</span>, <span style="color:#e6db74">&#39;Robbery&#39;</span>:<span style="color:#e6db74">&#39;ROB&#39;</span>, <span style="color:#e6db74">&#39;Vehicle crime&#39;</span>:<span style="color:#e6db74">&#39;VC&#39;</span>,
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#39;Shoplifting&#39;</span>:<span style="color:#e6db74">&#39;SPL&#39;</span>, <span style="color:#e6db74">&#39;Bicycle theft&#39;</span>:<span style="color:#e6db74">&#39;BT&#39;</span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use lambda function to apply function across the column top down</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">=</span> s_wales_grouped[<span style="color:#e6db74">&#39;Crime type&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:crime_mapping[x])
</span></span><span style="display:flex;"><span><span style="color:#75715e">#since our data is location based we will use the population of each region to normalise the data</span>
</span></span><span style="display:flex;"><span>s_wales_grouped[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]<span style="color:#f92672">=</span> s_wales_grouped[<span style="color:#e6db74">&#39;Crime count&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:(x<span style="color:#f92672">/</span><span style="color:#ae81ff">299239</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Northwales data grouped and count of crime type derived</span>
</span></span><span style="display:flex;"><span>n_wales_temp <span style="color:#f92672">=</span> n_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>, <span style="color:#e6db74">&#39;Crime type&#39;</span>]]<span style="color:#f92672">.</span>groupby([n_wales[<span style="color:#e6db74">&#39;Month&#39;</span>], n_wales[<span style="color:#e6db74">&#39;Crime type&#39;</span>]])<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>n_wales_temp <span style="color:#f92672">=</span> n_wales_temp<span style="color:#f92672">.</span>drop(<span style="color:#e6db74">&#39;Month&#39;</span>,axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>n_wales_grouped <span style="color:#f92672">=</span> n_wales_temp<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Crime type&#34;</span>: <span style="color:#e6db74">&#34;Crime count&#34;</span>})
</span></span><span style="display:flex;"><span><span style="color:#75715e">#resetting index to remove Crime type from being index</span>
</span></span><span style="display:flex;"><span>n_wales_grouped<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#using string literal to assign Region name to dataframe</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[<span style="color:#e6db74">&#39;Region&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;North Wales&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#splitting the month column into the year and the month number</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[[<span style="color:#e6db74">&#39;Year&#39;</span>,<span style="color:#e6db74">&#39;Month Name&#39;</span>]] <span style="color:#f92672">=</span> n_wales_grouped<span style="color:#f92672">.</span>Month<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;-&#34;</span>,expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#converting the Month Number to Month name using referenced code above</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[<span style="color:#e6db74">&#39;Month Name&#39;</span>] <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(n_wales_grouped[<span style="color:#e6db74">&#39;Month Name&#39;</span>], format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%m&#39;</span>)<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month_name()\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>slice(stop<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Creating a new column called season to group months into seasons</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create variable mapping for Months</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use lambda function to apply function across the column top down</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[<span style="color:#e6db74">&#39;season&#39;</span>]<span style="color:#f92672">=</span> n_wales_grouped[<span style="color:#e6db74">&#39;Month Name&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:seasons_mapping[x])
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create column to group months into pre covid and covid periods</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#according to timeline in link https://bfpg.co.uk/2020/04/covid-19-timeline/ covid first patient in UK was Jan</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># We will assume 2019 is pre covid and 2020 is covid</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use lambda function to apply function across the column top down</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[<span style="color:#e6db74">&#39;Covid&#39;</span>]<span style="color:#f92672">=</span> n_wales_grouped[<span style="color:#e6db74">&#39;Year&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:covid_mapping[x])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use lambda function to apply function across the column top down</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">=</span> n_wales_grouped[<span style="color:#e6db74">&#39;Crime type&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:crime_mapping[x])
</span></span><span style="display:flex;"><span><span style="color:#75715e">#since our data is location based we will use the population of each region to normalise the data</span>
</span></span><span style="display:flex;"><span>n_wales_grouped[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]<span style="color:#f92672">=</span> n_wales_grouped[<span style="color:#e6db74">&#39;Crime count&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:(x<span style="color:#f92672">/</span><span style="color:#ae81ff">70073</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#concatenating the two regions dataset</span>
</span></span><span style="display:flex;"><span>n_s_wales_grouped <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([n_wales_grouped,s_wales_grouped])
</span></span><span style="display:flex;"><span>n_wales_grouped<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h5 id="step-2-dataset-for-monthly-total-crime-count-by-region">Step 2 Dataset for Monthly total crime count by region<a hidden class="anchor" aria-hidden="true" href="#step-2-dataset-for-monthly-total-crime-count-by-region">#</a></h5>
<p>This dataset was created to hold the total monthly crime rate of each region separately and also in a single dataframe. The crime rate was then normalized using the formular formular (Total crime count per region/region population) x 10,000. This is to basically hold monthly distribution of crime rate in North and South Wales. The pandas framework and its methods were used extensively in this step.</p>
<p><!-- raw HTML omitted -->steps used<!-- raw HTML omitted --></p>
<ul>
<li>The total crime count was grouped by the months and the columns were renamed using the rename method in pandas</li>
<li>String literal was then used to assign the region to each row</li>
<li>The data was normalised with the North and South wales population multiplied by a 10,000 to show crime per 10,000 people</li>
<li>The index was reset to remove the month as the index</li>
<li>The string split method was used to split the month column into Year and the month number which was then formatted to the corresponding month name</li>
<li>Wrangled dataset for the two regions were then concatenated into a dataframe.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#getting the monthly total crime distribution of crime in north wales</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#group crime count by month using group method</span>
</span></span><span style="display:flex;"><span>dist_n_wales <span style="color:#f92672">=</span> n_wales[[<span style="color:#e6db74">&#39;Crime type&#39;</span>,<span style="color:#e6db74">&#39;Month&#39;</span>]]<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;Month&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rename columns using rename method</span>
</span></span><span style="display:flex;"><span>dist_n_wales <span style="color:#f92672">=</span> dist_n_wales<span style="color:#f92672">.</span>rename({<span style="color:#e6db74">&#39;Crime type&#39;</span>: <span style="color:#e6db74">&#39;Monthly Crime count&#39;</span>}, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign region to data</span>
</span></span><span style="display:flex;"><span>dist_n_wales[<span style="color:#e6db74">&#39;Region&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;North Wales&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#normalise data using population to crime per 10,000 people</span>
</span></span><span style="display:flex;"><span>dist_n_wales[<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]<span style="color:#f92672">=</span> dist_n_wales[<span style="color:#e6db74">&#39;Monthly Crime count&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:(x<span style="color:#f92672">/</span><span style="color:#ae81ff">70073</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#reset index</span>
</span></span><span style="display:flex;"><span>dist_n_wales<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#split the Month column into year and month name</span>
</span></span><span style="display:flex;"><span>dist_n_wales[[<span style="color:#e6db74">&#39;Year&#39;</span>,<span style="color:#e6db74">&#39;Month Name&#39;</span>]] <span style="color:#f92672">=</span> dist_n_wales<span style="color:#f92672">.</span>Month<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;-&#34;</span>,expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#converting the Month Number to Month name using referenced code above</span>
</span></span><span style="display:flex;"><span>dist_n_wales[<span style="color:#e6db74">&#39;Month Name&#39;</span>] <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(dist_n_wales[<span style="color:#e6db74">&#39;Month Name&#39;</span>], format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%m&#39;</span>)<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month_name()\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>slice(stop<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#getting the monthly total crime distribution of crime in south wales</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#group crime count by month using group method</span>
</span></span><span style="display:flex;"><span>dist_s_wales <span style="color:#f92672">=</span> s_wales[[<span style="color:#e6db74">&#39;Crime type&#39;</span>,<span style="color:#e6db74">&#39;Month&#39;</span>]]<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;Month&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rename columns using rename method</span>
</span></span><span style="display:flex;"><span>dist_s_wales <span style="color:#f92672">=</span> dist_s_wales<span style="color:#f92672">.</span>rename({<span style="color:#e6db74">&#39;Crime type&#39;</span>: <span style="color:#e6db74">&#39;Monthly Crime count&#39;</span>}, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign region to data</span>
</span></span><span style="display:flex;"><span>dist_s_wales[<span style="color:#e6db74">&#39;Region&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;South Wales&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#normalise data using population to crime per 10,000 people</span>
</span></span><span style="display:flex;"><span>dist_s_wales[<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]<span style="color:#f92672">=</span> dist_s_wales[<span style="color:#e6db74">&#39;Monthly Crime count&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:(x<span style="color:#f92672">/</span><span style="color:#ae81ff">299239</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#reset index</span>
</span></span><span style="display:flex;"><span>dist_s_wales<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#split the Month column into year and month name</span>
</span></span><span style="display:flex;"><span>dist_s_wales[[<span style="color:#e6db74">&#39;Year&#39;</span>,<span style="color:#e6db74">&#39;Month Name&#39;</span>]] <span style="color:#f92672">=</span> dist_s_wales<span style="color:#f92672">.</span>Month<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;-&#34;</span>,expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#converting the Month Number to Month name using referenced code above</span>
</span></span><span style="display:flex;"><span>dist_s_wales[<span style="color:#e6db74">&#39;Month Name&#39;</span>] <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(dist_s_wales[<span style="color:#e6db74">&#39;Month Name&#39;</span>], format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%m&#39;</span>)<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month_name()\
</span></span><span style="display:flex;"><span><span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>slice(stop<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#concatenating both dataframes into one table using the Concat method in pandas</span>
</span></span><span style="display:flex;"><span>Monthly_crime_count_tot <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([dist_n_wales,dist_s_wales])
</span></span><span style="display:flex;"><span>Monthly_crime_count_tot<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h5 id="step-3-dataset-for--percentage-of-a-crime-type-in-a-particular-region">step 3 Dataset for  percentage of a crime type in a particular region<a hidden class="anchor" aria-hidden="true" href="#step-3-dataset-for--percentage-of-a-crime-type-in-a-particular-region">#</a></h5>
<p>This dataset was created to hold the total crime rate per crime type for both South and Northern wales, we then create a unified dataframe to hold both datasets.</p>
<p><!-- raw HTML omitted -->steps used<!-- raw HTML omitted --></p>
<ul>
<li>We used the value_counts method of pandas to get the unique crime types present in our dataset then we use the dict method to convert this into a dictionary</li>
<li>The pandas DataFrame method was chained with the from_dict method used to create a dataframe from a dictionary</li>
<li>The columns method was used to name our new dataset</li>
<li>We then derived the monthly crime percentage but this was later dropped as it was not used</li>
<li>We  normalised our data with the North and South wales population multiplied by a 10,000 to show crime per 10,000 people</li>
<li>Finally, the two datasets created where concatenated into one.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#crime type by region</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Creating the total rate of crime in North Wales grouped by the  crime types </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#get the count of each crime type and then use dict method to convert it into a dictionary</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales <span style="color:#f92672">=</span> dict(n_wales[<span style="color:#e6db74">&#39;Crime type&#39;</span>]<span style="color:#f92672">.</span>value_counts())
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Use pandas to convert the dictionary into a dataframe</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame<span style="color:#f92672">.</span>from_dict(crime_cnt_n_wales,orient<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;index&#39;</span>)<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rename the new columns using the pandas column method</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;Crime type&#39;</span>,<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use string literal to assign region</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales[<span style="color:#e6db74">&#39;Region&#39;</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;North Wales&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#calculate crime percentage of each crime type</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales[<span style="color:#e6db74">&#39;Percent&#39;</span>] <span style="color:#f92672">=</span> (crime_cnt_n_wales[<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>] <span style="color:#f92672">/</span> crime_cnt_n_wales[<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>]<span style="color:#f92672">.</span>sum()) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#normalise data using population</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales[<span style="color:#e6db74">&#39;norm&#39;</span>]<span style="color:#f92672">=</span> crime_cnt_n_wales[<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:(x<span style="color:#f92672">/</span><span style="color:#ae81ff">70073</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Creating the total rate of crime in South Wales grouped by the  crime types </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#get the count of each crime type and then use dict method to convert it into a dictionary</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales <span style="color:#f92672">=</span> dict(s_wales[<span style="color:#e6db74">&#39;Crime type&#39;</span>]<span style="color:#f92672">.</span>value_counts())
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Use pandas to convert the dictionary into a dataframe</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame<span style="color:#f92672">.</span>from_dict(crime_cnt_s_wales,orient<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;index&#39;</span>)<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rename the new columns using the pandas column method</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;Crime type&#39;</span>,<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use string literal to assign region</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales[<span style="color:#e6db74">&#39;Region&#39;</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;South Wales&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#calculate crime percentage of each crime type</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales[<span style="color:#e6db74">&#39;Percent&#39;</span>] <span style="color:#f92672">=</span> (crime_cnt_s_wales[<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>] <span style="color:#f92672">/</span> crime_cnt_s_wales[<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>]<span style="color:#f92672">.</span>sum()) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#normalise data using populatio</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales[<span style="color:#e6db74">&#39;norm&#39;</span>]<span style="color:#f92672">=</span> crime_cnt_s_wales[<span style="color:#e6db74">&#39;Tot_cnt&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x:(x<span style="color:#f92672">/</span><span style="color:#ae81ff">299239</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#concatenating the total rate of crime in South and North Wales grouped by the  crime types</span>
</span></span><span style="display:flex;"><span>crime_cnt_tot <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([crime_cnt_n_wales,crime_cnt_s_wales])
</span></span><span style="display:flex;"><span><span style="color:#75715e">#drop the percentage column</span>
</span></span><span style="display:flex;"><span>crime_cnt_tot <span style="color:#f92672">=</span>crime_cnt_tot<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Percent&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>crime_cnt_tot<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><!-- raw HTML omitted -->
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="outputs-from-wrangling">Outputs From Wrangling<a hidden class="anchor" aria-hidden="true" href="#outputs-from-wrangling">#</a></h3>
<ul>
<li>We need the data to be grouped by two variables, which is the Month of the observations and the crime type then the count of the crime type would be taken. the output of the wrangling in Step 1 above produced a dataframe which satisfies this requirement
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></li>
<li>A dataframe was needed to hold the distribution of the monthly measurement by the two regions. We have three outputs from this step which is the monthly data from south wales, North wales and a unified table holding all the monthly crimes grouped by the region
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></li>
<li>A dataframe was needed to hold the distribution of the monthly measurement by the two regions. We have three outputd from this step which is the monthly data from south wales, North wales and a unified table holding all the monthly crimes grouped by the region
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></li>
<li>The dataset was normalized using population of each region. The output gave the crime rate per 100,000 people in both regions</li>
</ul>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Output dataframes(tables)<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->n_s_wales_grouped<!-- raw HTML omitted -->: This is a combined dataframe of the North and South wales dataset categorized into the crime count grouped by the crime type
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->s_wales_grouped<!-- raw HTML omitted -->: This is a dataframe of the South wales dataset categorized into the crime count grouped by the crime type
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->n_wales_grouped<!-- raw HTML omitted -->: This is a dataframe of the North wales dataset categorized into the crime count grouped by the crime type
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->dist_s_wales<!-- raw HTML omitted -->: This shows the monthly crime count in the South Wales police district
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->dist_n_wales<!-- raw HTML omitted -->: This shows the monthly crime count in the North Wales police district
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->Monthly_crime_count_tot<!-- raw HTML omitted -->: This shows the combined monthly crime count in the North and South Wales police district
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->crime_cnt_n_wales<!-- raw HTML omitted -->: This is the total Crime count grouped into the crime type for the North wales region
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->crime_cnt_s_wales<!-- raw HTML omitted -->: This is the total Crime count grouped into the crime type for the North wales region
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->crime_cnt_tot<!-- raw HTML omitted -->:This is the total Crime count grouped into the crime type combined for the North and South wales region<!-- raw HTML omitted --></p>
<h1 id="30-data-exploration">3.0 Data Exploration<a hidden class="anchor" aria-hidden="true" href="#30-data-exploration">#</a></h1>
<p>In this section we will start exploring our dataset Graphically and also produce some summary statistics to understand the dataset. We will show plots to visualise our data.s</p>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
Exploring the dataset using the different dataframes created during the wrangling phase</p>
<p>Details</p>
<ul>
<li>The library used is Pandas, Numpy, Seaborn and Matplotlib.pyplot which needs to be imported before use</li>
<li>To use this chunk of code you will need to use the dataframes listed in the wrangling phase above</li>
<li>Each section shows the analysis question being answered and each section as an output summarizing the results</li>
<li>Ensure the Data Exploration application is not working to avoid interference</li>
<li>Ensure The method of any section is called.</li>
<li>the section starts with a summary statistics which just shows a summary of the data</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#this datasets shows the monthly total crime rate for North and South wales</span>
</span></span><span style="display:flex;"><span>print(dist_s_wales<span style="color:#f92672">.</span>describe())
</span></span></code></pre></div><pre><code>       Monthly Crime count  Norm Monthly Crime
count            22.000000           22.000000
mean          12215.363636          408.214291
std            1235.897112           41.301338
min           10322.000000          344.941669
25%           11271.250000          376.663804
50%           12066.500000          403.239551
75%           13000.250000          434.443706
max           15541.000000          519.350753
</code></pre>
<!-- raw HTML omitted -->
<ul>
<li>
<p>The standard deviation shows that on a average the monthly crime rate measured tend to be around (+ or -) 12,000 crimes from the average monthly crimes but when we factor population that comes into around (+ or -) 41</p>
</li>
<li>
<p>The month with the least crime rate had about 10,322 whih is 344 crimes per 10,000</p>
</li>
<li>
<p>The month with the maximum crime rate had 15,541 at 519 crimes per 10,000 people monthly</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(dist_n_wales<span style="color:#f92672">.</span>describe())
</span></span></code></pre></div><pre><code>       Monthly Crime count  Norm Monthly Crime
count            22.000000           22.000000
mean           6023.000000          859.532202
std             468.567828           66.868527
min            5348.000000          763.204087
25%            5675.750000          809.976739
50%            5991.500000          855.036890
75%            6380.250000          910.514749
max            6964.000000          993.820730
</code></pre>
<!-- raw HTML omitted -->
<ul>
<li>The standard deviation shows that on a average the monthly crime rate measured tend to be around + or - 468 crimes from the average monthly crimes but when we factor population that comes into around + or - 66</li>
<li>The month with the least crime rate had about 10,322 whih is 344 crimes per 10,000</li>
<li>The month with the maximum crime rate had 5348 at 855 crimes per 10,000 people monthly</li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li>
<p>Although overall crime rate in South Wales is double the figures noticed for North Wales. North Wales has more crime rate per 10,000 people than South Wales</p>
</li>
<li>
<p>South Wales has a lesser crime rate standard deviation than North Wales showing that values noticed for South Wales are closer to the mean than that of the North Wales to its mean</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#South Wales Crime count per crime type</span>
</span></span><span style="display:flex;"><span>crime_cnt_s_wales<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>Crime type                    Tot_cnt  Region       Percent    norm       
Violence and sexual offences  77116    South Wales  28.695607  2577.070502    1
Vehicle crime                 13155    South Wales  4.895102   439.615157     1
Theft from the person         1886     South Wales  0.701799   63.026544      1
Shoplifting                   15989    South Wales  5.949661   534.322064     1
Robbery                       945      South Wales  0.351644   31.580108      1
Public order                  24342    South Wales  9.057893   813.463486     1
Possession of weapons         1350     South Wales  0.502348   45.114440      1
Other theft                   15967    South Wales  5.941475   533.586865     1
Other crime                   4057     South Wales  1.509649   135.577248     1
Drugs                         8815     South Wales  3.280146   294.580586     1
Criminal damage and arson     22278    South Wales  8.289859   744.488519     1
Burglary                      10363    South Wales  3.856172   346.311811     1
Bicycle theft                 3256     South Wales  1.211589   108.809346     1
Anti-social behaviour         69219    South Wales  25.757057  2313.167735    1
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#North Wales Crime count per crime type</span>
</span></span><span style="display:flex;"><span>crime_cnt_n_wales<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>Crime type                    Tot_cnt  Region       Percent    norm       
Violence and sexual offences  49913    North Wales  37.668483  7123.000300    1
Vehicle crime                 2960     North Wales  2.233861   422.416623     1
Theft from the person         335      North Wales  0.252819   47.807287      1
Shoplifting                   6698     North Wales  5.054865   955.860317     1
Robbery                       372      North Wales  0.280742   53.087494      1
Public order                  11008    North Wales  8.307548   1570.933170    1
Possession of weapons         603      North Wales  0.455074   86.053116      1
Other theft                   7856     North Wales  5.928788   1121.116550    1
Other crime                   2171     North Wales  1.638416   309.819759     1
Drugs                         2683     North Wales  2.024814   382.886418     1
Criminal damage and arson     12842    North Wales  9.691637   1832.660226    1
Burglary                      5280     North Wales  3.984725   753.499922     1
Bicycle theft                 737      North Wales  0.556201   105.176031     1
Anti-social behaviour         29048    North Wales  21.922026  4145.391235    1
dtype: int64
</code></pre>
<!-- raw HTML omitted -->
<ul>
<li>The top 5 crimes in North and South Wales are from similar crime types</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">police_patrol</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This functions shows the top 10 locations within the different regions that has the highest crime rate
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    this is to recommend locations in need of frequent police patrol to curb crime in the area.&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># define a temporary variable to hold the count of crimes grouped by crime location</span>
</span></span><span style="display:flex;"><span>    n_policing_temp <span style="color:#f92672">=</span> n_wales[[<span style="color:#e6db74">&#39;LSOA name&#39;</span>,<span style="color:#e6db74">&#39;Crime type&#39;</span>]]<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;LSOA name&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#reset index of the variable to change the current index</span>
</span></span><span style="display:flex;"><span>    n_policing_temp<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#sort the values in descending order to show top values</span>
</span></span><span style="display:flex;"><span>    n_policing <span style="color:#f92672">=</span> n_policing_temp<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Crime type&#39;</span>],ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use seaborn barplot method to create a bar plot of the top 10 values and set a title</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>barplot(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Crime type&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;LSOA name&#39;</span>,  data<span style="color:#f92672">=</span> n_policing)\
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Top ten Crime locations in North Wales per 10,000 people&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># define a temporary variable to hold the count of crimes grouped by crime location</span>
</span></span><span style="display:flex;"><span>    s_policing_temp <span style="color:#f92672">=</span> s_wales[[<span style="color:#e6db74">&#39;LSOA name&#39;</span>,<span style="color:#e6db74">&#39;Crime type&#39;</span>]]<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;LSOA name&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#reset index of the variable to change the current index</span>
</span></span><span style="display:flex;"><span>    s_policing_temp<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#sort the values in descending order to show top values</span>
</span></span><span style="display:flex;"><span>    s_policing <span style="color:#f92672">=</span> s_policing_temp<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Crime type&#39;</span>],ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use seaborn barplot method to create a bar plot of the top 10 values and set a title</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>barplot(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Crime type&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;LSOA name&#39;</span>,  data<span style="color:#f92672">=</span> s_policing)\
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Top ten Crime locations in South Wales per 10,000 people&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(police_patrol)
</span></span><span style="display:flex;"><span>police_patrol()
</span></span></code></pre></div><p><img loading="lazy" src="output_70_0.png" alt="png"  />
</p>
<p><img loading="lazy" src="output_70_1.png" alt="png"  />
</p>
<pre><code>Help on function police_patrol in module __main__:

police_patrol()
    This functions shows the top 10 locations within the different regions that has the highest crime rate
    this is to recommend locations in need of frequent police patrol to curb crime in the area.
</code></pre>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>To answer this question we would be using the n_s_wales_grouped dataframe. We want to know the most common crime types in South and North Wales and see if we have any similarities in the crime types. We will be using the FacetGrid plot method in Seaborn which helps plot barcharts for all the months in a grid. The row shows the Month while the Columns shows the region that is currently being analysed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Common_crimes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function creates a grid plot using seaborn to show the a monthly barplot of the crime rate of
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    the different crime type. The rows shows the month while the column shows the region.&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#North Wales to the Left and South Wales to the right</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#creating a FacetGrid with Seaborn library and this is where we select dataset to be used</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>FacetGrid(n_s_wales_grouped, row<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Month&#39;</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Region&#39;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">3.5</span>,aspect <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.65</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create a variable crime order to hold the order in which the plots would be displayed</span>
</span></span><span style="display:flex;"><span>    crime_order <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#lets populate the facetGrid with the specific plots and add the order</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>map(sns<span style="color:#f92672">.</span>barplot, <span style="color:#e6db74">&#39;Crime code&#39;</span>,<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>,order <span style="color:#f92672">=</span> crime_order )
</span></span><span style="display:flex;"><span>    grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>subplots_adjust(top<span style="color:#f92672">=</span><span style="color:#ae81ff">0.96</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#adding the title of the plot</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>suptitle(<span style="color:#e6db74">&#39;Most common crime types per 10,000 people in North and South Wales&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">28</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Common_crimes)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#show the crime codes</span>
</span></span><span style="display:flex;"><span>    print(crime_mapping)
</span></span><span style="display:flex;"><span>Common_crimes()
</span></span></code></pre></div><p><img loading="lazy" src="output_73_0.png" alt="png"  />
</p>
<pre><code>Help on function Common_crimes in module __main__:

Common_crimes()
    This function creates a grid plot using seaborn to show the a monthly barplot of the crime rate of
    the different crime type. The rows shows the month while the column shows the region.

{'Other theft': 'OT', 'Theft from the person': 'TFP', 'Violence and sexual offences': 'VSO', 'Anti-social behaviour': 'ASB', 'Burglary': 'BUG', 'Criminal damage and arson': 'CDA', 'Drugs': 'DRG', 'Public order': 'PO', 'Other crime': 'OC', 'Possession of weapons': 'POW', 'Robbery': 'ROB', 'Vehicle crime': 'VC', 'Shoplifting': 'SPL', 'Bicycle theft': 'BT'}
</code></pre>
<!-- raw HTML omitted -->
<ul>
<li>From the grid plot above we can see that across all the months and in both regions Violence and sexual offences(VSO) and Anti-social behaviour(ASB) have the highest crime rate for both South and North Wales. We have similar trends in crime type for both North and South Wales.</li>
<li>North Wales has around twice the rate of Violent and Sexual offences as South wales per 10,000 people although South Wales has a higher rate of these crimes in total.</li>
</ul>
<!-- raw HTML omitted -->
<p>We would be using the n_s_wales_grouped dataframe to find the effects of the covid lockdown on crimes to see if any crime type took a deep during the lockdown. We will be using the normalized crime count in this case, so we are looking at the crime count per 10,000 people in North and South Wales. The seaborn FacetGrid method will also be used here. The rows of the plot shows pre-covid and during covid while the column shows the region.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Covid_crimes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function displays a barplot showing a comparison between the crime rate before covid and during
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    covid, This was created using the seaborn gridplot module&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#North Wales to the Left and South Wales to the right</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#creating a FacetGrid with Seaborn library and assigning data to be used</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>FacetGrid(n_s_wales_grouped, row<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Covid&#39;</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Region&#39;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">3.5</span>,aspect <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.65</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create a variable crime order to hold the order in which the plots would be displayed</span>
</span></span><span style="display:flex;"><span>    crime_order2 <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#lets populate the facetGrid with the specific plots and add the order</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>map(sns<span style="color:#f92672">.</span>barplot, <span style="color:#e6db74">&#39;Crime code&#39;</span>,<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>,order <span style="color:#f92672">=</span> crime_order2)
</span></span><span style="display:flex;"><span>    grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>subplots_adjust(top<span style="color:#f92672">=</span><span style="color:#ae81ff">0.8</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#adding the title of the plot</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>suptitle(<span style="color:#e6db74">&#39;Difference in crime rate before and during COVID 19 per 10,000 people&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">28</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Covid_crimes)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#show the crime codes</span>
</span></span><span style="display:flex;"><span>    print(crime_mapping) 
</span></span><span style="display:flex;"><span>Covid_crimes()
</span></span></code></pre></div><p><img loading="lazy" src="output_76_0.png" alt="png"  />
</p>
<pre><code>Help on function Covid_crimes in module __main__:

Covid_crimes()
    This function displays a barplot showing a comparison between the crime rate before covid and during
    covid, This was created using the seaborn gridplot module

{'Other theft': 'OT', 'Theft from the person': 'TFP', 'Violence and sexual offences': 'VSO', 'Anti-social behaviour': 'ASB', 'Burglary': 'BUG', 'Criminal damage and arson': 'CDA', 'Drugs': 'DRG', 'Public order': 'PO', 'Other crime': 'OC', 'Possession of weapons': 'POW', 'Robbery': 'ROB', 'Vehicle crime': 'VC', 'Shoplifting': 'SPL', 'Bicycle theft': 'BT'}
</code></pre>
<p><!-- raw HTML omitted -->Reduced during Covid <!-- raw HTML omitted --></p>
<ul>
<li>From the plot above we can see that Burglary reduced almost by half of what it was before covid.</li>
<li>Criminal damage and arson also reduced by a bit during Covid compared to the period before.</li>
<li>Robbery reduced to almost non existence during covid</li>
<li>Shoplifting and Vehicle crimes reduced a bit during covid</li>
</ul>
<p><!-- raw HTML omitted -->Increased during covid <!-- raw HTML omitted --></p>
<ul>
<li>We saw an increase in Anti social behaviour during Covid which may be due to the new social regulations around covid lockdown.</li>
</ul>
<p><!-- raw HTML omitted -->Remained the same <!-- raw HTML omitted --></p>
<p>Drug use, Other crime, Other theft, Possession of Weapons, Theft from the person, Violence and sexual offences and Bicycle theft all remained almost unchanged during Covid.</p>
<!-- raw HTML omitted -->
<p>The analysis is to check for differences in Burglary rate during the summer and winter. We would be using the n_s_wales_grouped dataframe for this and also a FacetGrid. The row shows the season while the column shows the region.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Seasonal_crimes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function displays a barplot showing a comparison between the crime rate grouped by season, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    This was created using the seaborn gridplot module &#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#North Wales to the Left and South Wales to the right</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#creating a FacetGrid with Seaborn library and assigning data to be used</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>FacetGrid(n_s_wales_grouped, row<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;season&#39;</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Region&#39;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">3.5</span>,aspect <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.65</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create a variable crime order to hold the order in which the plots would be displayed</span>
</span></span><span style="display:flex;"><span>    crime_order3 <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#lets populate the facetGrid with the specific plots</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>map(sns<span style="color:#f92672">.</span>barplot, <span style="color:#e6db74">&#39;Crime code&#39;</span>,<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>,order<span style="color:#f92672">=</span>crime_order3)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Seasonal_crimes)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#show the crime codes</span>
</span></span><span style="display:flex;"><span>    print(crime_mapping) 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>Seasonal_crimes()
</span></span></code></pre></div><p><img loading="lazy" src="output_79_0.png" alt="png"  />
</p>
<pre><code>Help on function Seasonal_crimes in module __main__:

Seasonal_crimes()
    This function displays a barplot showing a comparison between the crime rate grouped by season, 
    This was created using the seaborn gridplot module

{'Other theft': 'OT', 'Theft from the person': 'TFP', 'Violence and sexual offences': 'VSO', 'Anti-social behaviour': 'ASB', 'Burglary': 'BUG', 'Criminal damage and arson': 'CDA', 'Drugs': 'DRG', 'Public order': 'PO', 'Other crime': 'OC', 'Possession of weapons': 'POW', 'Robbery': 'ROB', 'Vehicle crime': 'VC', 'Shoplifting': 'SPL', 'Bicycle theft': 'BT'}
</code></pre>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>To find the relationship between the crime rate in North and South Wales we will be using the scatterplot feature of Seaborn.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crime_corr</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function displays the correlation between the normalized crime rates of North and South Wales,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    this was created using the scatterplot method of the seaborn library&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns of South wales data into a variable</span>
</span></span><span style="display:flex;"><span>    scat_s <span style="color:#f92672">=</span> dist_s_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#rename the column names using the rename method of pandas</span>
</span></span><span style="display:flex;"><span>    scat_s <span style="color:#f92672">=</span>scat_s<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Monthly Crime&#34;</span>: <span style="color:#e6db74">&#34;s_wales_cnt&#34;</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns of North wales data into a variable</span>
</span></span><span style="display:flex;"><span>    scat_n <span style="color:#f92672">=</span> dist_n_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#rename the column names using the rename method of pandas</span>
</span></span><span style="display:flex;"><span>    scat_n <span style="color:#f92672">=</span>scat_n<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Monthly Crime&#34;</span>: <span style="color:#e6db74">&#34;n_wales_cnt&#34;</span>,<span style="color:#e6db74">&#39;Month&#39;</span>:<span style="color:#e6db74">&#39;Month2&#39;</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#concatenate the north and south wales data into one dataframe</span>
</span></span><span style="display:flex;"><span>    scatter_w <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([scat_s, scat_n], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#reset the index to change the current index</span>
</span></span><span style="display:flex;"><span>    scatter_w <span style="color:#f92672">=</span> scatter_w<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#drop one of the duplicated months</span>
</span></span><span style="display:flex;"><span>    scatter_w <span style="color:#f92672">=</span> scatter_w<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Month2&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use seaborn to plot a scatterplot for crime rate and set title of plot</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>scatterplot(data<span style="color:#f92672">=</span>scatter_w, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;s_wales_cnt&#34;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n_wales_cnt&#34;</span>)<span style="color:#f92672">.</span>\
</span></span><span style="display:flex;"><span>    set_title(<span style="color:#e6db74">&#34;Correlation Plot for North and South Wales crime rate&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(crime_corr)
</span></span><span style="display:flex;"><span>crime_corr()
</span></span></code></pre></div><p><img loading="lazy" src="output_82_0.png" alt="png"  />
</p>
<pre><code>Help on function crime_corr in module __main__:

crime_corr()
    This function displays the correlation between the normalized crime rates of North and South Wales,
    this was created using the scatterplot method of the seaborn library
</code></pre>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>To check for the region with the highest crime rate per 10,000 people we will be using the swarmplot feature of seaborn which helps plot the normalized crime rate for each month and separates them into regions.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Highest_crime</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This is a bee swarmplot showing the normalized crime rate in each region i.e crime rate per 10,000 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    people in North and South wales. This was created using the seaborn library&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#nsert the required columns into the method and select data to be used</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>swarmplot(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Region&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>, data<span style="color:#f92672">=</span> Monthly_crime_count_tot)<span style="color:#f92672">.</span>\
</span></span><span style="display:flex;"><span>    set_title(<span style="color:#e6db74">&#34;Swarm Plot for North and South Wales crime rate per 10,000 people&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create the x axis label</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;Region&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create the y axis label</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;Monthly Crime count&#39;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Highest_crime) 
</span></span><span style="display:flex;"><span>Highest_crime()
</span></span></code></pre></div><p><img loading="lazy" src="output_85_0.png" alt="png"  />
</p>
<pre><code>Help on function Highest_crime in module __main__:

Highest_crime()
    This is a bee swarmplot showing the normalized crime rate in each region i.e crime rate per 10,000 
    people in North and South wales. This was created using the seaborn library
</code></pre>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>We will use a time series plot to show the evolution of crime rate over time. We will use the normalized crime count to plot the time series graph using the dist_n_wales and dist_s_wales dataframes with the pandas plot method</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crime_evo</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function shows the evolution of crime over time in North and South Wales. This function
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    uses the normalized dataset which means it shows crime per 10,000 people in both regions&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns from the dataframe and set index for north data</span>
</span></span><span style="display:flex;"><span>    n_plot <span style="color:#f92672">=</span> dist_n_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Month&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns from the dataframe and set index for south data</span>
</span></span><span style="display:flex;"><span>    s_plot <span style="color:#f92672">=</span> dist_s_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Month&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#assign the northern plot to a variable</span>
</span></span><span style="display:flex;"><span>    ax <span style="color:#f92672">=</span> n_plot<span style="color:#f92672">.</span>plot()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use the northern variable to create the southern plot</span>
</span></span><span style="display:flex;"><span>    s_plot<span style="color:#f92672">.</span>plot(ax<span style="color:#f92672">=</span>ax)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define the legend for the plot</span>
</span></span><span style="display:flex;"><span>    ax<span style="color:#f92672">.</span>legend([<span style="color:#e6db74">&#34;North Wales&#34;</span>, <span style="color:#e6db74">&#34;South Wales&#34;</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(crime_evo)
</span></span><span style="display:flex;"><span>crime_evo()
</span></span></code></pre></div><p><img loading="lazy" src="output_88_0.png" alt="png"  />
</p>
<pre><code>Help on function crime_evo in module __main__:

crime_evo()
    This function shows the evolution of crime over time in North and South Wales. This function
    uses the normalized dataset which means it shows crime per 10,000 people in both regions
</code></pre>
<!-- raw HTML omitted -->
<p>The plot above shows that crime per 10,000 people in North Wales is taking a dip while crime rate in Southern Wale is taking a gradual rise.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">pop_crime_type</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;The goal of this function is to display a piechart with the most popular crime types. This was created
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    using the pie method in pandas&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#plot the crime types of North wales on a piechart</span>
</span></span><span style="display:flex;"><span>    plot <span style="color:#f92672">=</span> crime_cnt_n_wales<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Crime type&#39;</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>pie(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Percent&#39;</span>,figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#plot the crime types of south wales on a piechart</span>
</span></span><span style="display:flex;"><span>    plot <span style="color:#f92672">=</span> crime_cnt_s_wales<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Crime type&#39;</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>pie(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Percent&#39;</span>,figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>))
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>pop_crime_type()
</span></span></code></pre></div><p><img loading="lazy" src="output_91_0.png" alt="png"  />
</p>
<p><img loading="lazy" src="output_91_1.png" alt="png"  />
</p>
<!-- raw HTML omitted -->
<h1 id="40-statistical--testing">4.0 Statistical  Testing<a hidden class="anchor" aria-hidden="true" href="#40-statistical--testing">#</a></h1>
<p>Three statistical tests would be performed in this section using the scipy.stats module, we will be using different classes from the module.</p>
<h3 id="uresearch-question-10-ubr-is-the-monthly-crime-rate-for-north-and-south-wales-normalstrong"><!-- raw HTML omitted -->Research Question 1.0 <!-- raw HTML omitted --><!-- raw HTML omitted --> is the Monthly crime rate for north and south wales normal?<!-- raw HTML omitted --><a hidden class="anchor" aria-hidden="true" href="#uresearch-question-10-ubr-is-the-monthly-crime-rate-for-north-and-south-wales-normalstrong">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
We will be testing the crime rate for North and South wales to see if it has normal distribution.</p>
<p>Details</p>
<ul>
<li>We will be using the shapiro-wilk test to check for the distribution.</li>
<li>The Scipy.stats module is needed and we need to import the shapiro class from the module</li>
<li>We need just 1-dimensional dataset to input into this method.</li>
<li>We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#is the Monthly crime rate for north and south wales normal?</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Interpretation</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#import shapiro from scipy module</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> shapiro
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the required column to a variable</span>
</span></span><span style="display:flex;"><span>data_s <span style="color:#f92672">=</span> dist_s_wales[<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the output of the test to two variables</span>
</span></span><span style="display:flex;"><span>stat, p <span style="color:#f92672">=</span> shapiro(data_s)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#print out the stat and p-value</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;stat=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">, p=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (stat, p))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> p <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level we do not have enough evidence to reject the null hypothesis</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    that the South wales dataset has a Gaussian distribution&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level we have enough evidence to reject the null hypothesis</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    and accept alternative hypothesis that the South wales dataset does not have a Gaussian distribution.&#39;</span>)
</span></span></code></pre></div><pre><code>stat=0.948, p=0.285
At a 5% significance level we do not have enough evidence to reject the null hypothesis    that the South wales dataset has a Gaussian distribution
</code></pre>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dist_n_wales
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> shapiro
</span></span><span style="display:flex;"><span>data_n <span style="color:#f92672">=</span> dist_n_wales[<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]
</span></span><span style="display:flex;"><span>stat, p <span style="color:#f92672">=</span> shapiro(data_n)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;stat=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">, p=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (stat, p))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> p <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level we do not have enough evidence to reject the null hypothesis</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    that the South wales dataset has a Gaussian distribution&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level we have enough evidence to reject the null hypothesis</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    and accept alternative hypothesis that the South wales dataset does not have a Gaussian distribution.&#39;</span>)
</span></span></code></pre></div><pre><code>stat=0.942, p=0.217
At a 5% significance level we do not have enough evidence to reject the null hypothesis    that the South wales dataset has a Gaussian distribution
</code></pre>
<h3 id="uresearch-question-20u-brwhat-type-of-relationship-do-we-have-between-north-and-south-wales-crime-rate"><!-- raw HTML omitted -->Research Question 2.0<!-- raw HTML omitted --> <!-- raw HTML omitted -->What type of relationship do we have between North and South wales crime rate?<a hidden class="anchor" aria-hidden="true" href="#uresearch-question-20u-brwhat-type-of-relationship-do-we-have-between-north-and-south-wales-crime-rate">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
We will be testing the relationship between North and South wales Crime rate.</p>
<p>Details</p>
<ul>
<li>We will be using the spearman correlation test to check for correlation.</li>
<li>The Scipy.stats module is needed and we need to import the spearmanr class from the module</li>
<li>The spearmanr method takes two arguments. The two datasets to be compared in a 1-d array</li>
<li>We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis</li>
<li>The correlation will be performed on the normalized crime count, showing crime rate per 10,000 people</li>
</ul>
<p>H0: North and South Wales crime rate are independent.<!-- raw HTML omitted -->
H1: North and South Wales crime rate are dependent.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Example of the Spearman&#39;s Rank Correlation Test</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> spearmanr
</span></span><span style="display:flex;"><span><span style="color:#75715e">#splice the required columns of South wales data into a variable</span>
</span></span><span style="display:flex;"><span>scat_s <span style="color:#f92672">=</span> dist_s_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rename the column names using the rename method of pandas</span>
</span></span><span style="display:flex;"><span>scat_s <span style="color:#f92672">=</span>scat_s<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Monthly Crime&#34;</span>: <span style="color:#e6db74">&#34;s_wales_cnt&#34;</span>})
</span></span><span style="display:flex;"><span><span style="color:#75715e">#splice the required columns of North wales data into a variable</span>
</span></span><span style="display:flex;"><span>scat_n <span style="color:#f92672">=</span> dist_n_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rename the column names using the rename method of pandas</span>
</span></span><span style="display:flex;"><span>scat_n <span style="color:#f92672">=</span>scat_n<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Monthly Crime&#34;</span>: <span style="color:#e6db74">&#34;n_wales_cnt&#34;</span>,<span style="color:#e6db74">&#39;Month&#39;</span>:<span style="color:#e6db74">&#39;Month2&#39;</span>})
</span></span><span style="display:flex;"><span><span style="color:#75715e">#concatenate the north and south wales data into one dataframe</span>
</span></span><span style="display:flex;"><span>scatter_w <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([scat_s, scat_n], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#reset the index to change the current index</span>
</span></span><span style="display:flex;"><span>scatter_w <span style="color:#f92672">=</span> scatter_w<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#drop one of the duplicated months</span>
</span></span><span style="display:flex;"><span>scatter_w <span style="color:#f92672">=</span> scatter_w<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Month2&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>stat, p <span style="color:#f92672">=</span> spearmanr(scatter_w[<span style="color:#e6db74">&#39;s_wales_cnt&#39;</span>], scatter_w[<span style="color:#e6db74">&#39;n_wales_cnt&#39;</span>])
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;stat=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">, p=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (stat, p))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> p <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we do not have enough statistical evidence to reject the</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    null hypothesis that the crime rate of North and South Wales are independent&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we have enough statistical evidence to reject the</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    null hypothesis that the crime rate of North and South Wales are independent&#39;</span>)
</span></span></code></pre></div><pre><code>stat=0.333, p=0.130
At a 5% significance level, we do not have enough statistical evidence to reject the    null hypothesis that the crime rate of North and South Wales are independent
</code></pre>
<h3 id="uresearch-question-30u-br---is-there-difference-in-the-combined-crime-types-observed-for-north-and-south-wales"><!-- raw HTML omitted -->Research Question 3.0<!-- raw HTML omitted --> <!-- raw HTML omitted -->   Is there difference in the combined crime types observed for North and South Wales?<a hidden class="anchor" aria-hidden="true" href="#uresearch-question-30u-br---is-there-difference-in-the-combined-crime-types-observed-for-north-and-south-wales">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --></p>
<p>In this experiement we have grouped the monthly crime rate across North and South wales by the crime type. We will be using a parametric ANOVA test to test if the mean of the different monthly crime rate count differs among the different crime types.</p>
<p>Our assumptions are;</p>
<pre><code>The subjects have been selected at random from the total groups.
The dependent variable/response is normally distributed in each group.
The dependent variable has the same variance in each group.
</code></pre>
<p>Details</p>
<ul>
<li>We will be using the one-way anova test to check for differences in the different crime rates.</li>
<li>The Scipy.stats module is needed and we need to import the f_oneway class from the module</li>
<li>The f_oneway method takes multiple arguments. The list of all the variables to be compared.</li>
<li>We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis</li>
</ul>
<p>The hypotheses in this case are:</p>
<p>H0 = the mean of the crime rate of South and North Wales is different in each of the different crime types<!-- raw HTML omitted -->
H1 = the mean of the crime rate of South and North Wales is different in each of the different crime types</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#create a list of all unique crimes</span>
</span></span><span style="display:flex;"><span>crime_list <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime type&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create an empty list</span>
</span></span><span style="display:flex;"><span>crime_type_cnt <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a for loop to append each crime type and their monthly crime to the list crime_type_cnt</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> crime_list:
</span></span><span style="display:flex;"><span>    crime_temp <span style="color:#f92672">=</span> s_wales_grouped[s_wales_grouped[<span style="color:#e6db74">&#39;Crime type&#39;</span>]<span style="color:#f92672">==</span> i]
</span></span><span style="display:flex;"><span>    crime_temp <span style="color:#f92672">=</span> crime_temp[[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]]
</span></span><span style="display:flex;"><span>    crime_temp <span style="color:#f92672">=</span> crime_temp<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Crime count&#34;</span>: i})
</span></span><span style="display:flex;"><span>    crime_type_cnt<span style="color:#f92672">.</span>append(crime_temp)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#import the method needed for this test</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> f_oneway
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign each crime type to a variable</span>
</span></span><span style="display:flex;"><span>crime1 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>crime2 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>crime3 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>crime4 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>crime5 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>crime6 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>crime7 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">6</span>]
</span></span><span style="display:flex;"><span>crime8 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>crime9 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">8</span>]
</span></span><span style="display:flex;"><span>crime10 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">9</span>]
</span></span><span style="display:flex;"><span>crime11 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">10</span>]
</span></span><span style="display:flex;"><span>crime12 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">11</span>]
</span></span><span style="display:flex;"><span>crime13 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">12</span>]
</span></span><span style="display:flex;"><span>crime14 <span style="color:#f92672">=</span> crime_type_cnt[<span style="color:#ae81ff">13</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#apply the f_oneway method</span>
</span></span><span style="display:flex;"><span>stat, p <span style="color:#f92672">=</span> f_oneway(crime1, 
</span></span><span style="display:flex;"><span>crime2, 
</span></span><span style="display:flex;"><span>crime3,
</span></span><span style="display:flex;"><span>crime4, 
</span></span><span style="display:flex;"><span>crime5, 
</span></span><span style="display:flex;"><span>crime6, 
</span></span><span style="display:flex;"><span>crime7, 
</span></span><span style="display:flex;"><span>crime8, 
</span></span><span style="display:flex;"><span>crime9, 
</span></span><span style="display:flex;"><span>crime10,
</span></span><span style="display:flex;"><span>crime11,
</span></span><span style="display:flex;"><span>crime12,
</span></span><span style="display:flex;"><span>crime13,
</span></span><span style="display:flex;"><span>crime14,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#print results</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;stat=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">, p=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (stat, p))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> p <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we do not have enough statistical evidence to reject the</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    null hypothesis that the means of the different crime types are equal&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we have enough statistical evidence to reject the null</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">    hypothesis that the means of the different crime types are equal&#39;</span>)
</span></span><span style="display:flex;"><span>       
</span></span></code></pre></div><pre><code>stat=123.629, p=0.000
At a 5% significance level, we have enough statistical evidence to reject the null    hypothesis that the means of the different crime types are equal
</code></pre>
<h3 id="uresearch-question-40u-br-is-there-a-difference-in-burglary-rate-during-winter-and-summer-in-north-wales"><!-- raw HTML omitted -->Research Question 4.0<!-- raw HTML omitted --> <!-- raw HTML omitted --> Is there a difference in Burglary rate during winter and Summer in North Wales?<a hidden class="anchor" aria-hidden="true" href="#uresearch-question-40u-br-is-there-a-difference-in-burglary-rate-during-winter-and-summer-in-north-wales">#</a></h3>
<p>Details</p>
<ul>
<li>We will be using the Paired t test to check for differences in the different crime rates.</li>
<li>The Scipy.stats module is needed and we need to import the ttest_rel class from the module</li>
<li>The ttest_rel method takes two arguments. The 1-d array of the variables to be compared.</li>
<li>We would be using a p-value of 0.05 which means when we have a value lower than this we can reject the null hypothesis and when it is higher we cannot reject the null hypothesis</li>
</ul>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
In this experiment the goal is to compare the Burglary rate of the two seasons Winter and Summer and this means we are trying to compare two variables with the same response to the same subject which means we would use the Paired T test for this.</p>
<p>H0: the crime rate in winter and summer are the same.<!-- raw HTML omitted -->
H1: the crime rate in winter and summer are not the same.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Import the ttest_rel module from scipy</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> ttest_rel
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the north wales normed data as pair_1_n_temp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a dataframe pair_1_n_temp of all monthly crime rate in Winter</span>
</span></span><span style="display:flex;"><span>pair_1_n_temp <span style="color:#f92672">=</span> n_wales_grouped[n_wales_grouped[<span style="color:#e6db74">&#39;season&#39;</span>]<span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Winter&#39;</span>]
</span></span><span style="display:flex;"><span>pair_1_n_temp <span style="color:#f92672">=</span> pair_1_n_temp [pair_1_n_temp[<span style="color:#e6db74">&#39;Year&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;2019&#39;</span>]
</span></span><span style="display:flex;"><span>pair_1_n_temp <span style="color:#f92672">=</span> pair_1_n_temp[pair_1_n_temp[<span style="color:#e6db74">&#39;Crime type&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Burglary&#39;</span>]
</span></span><span style="display:flex;"><span>pair_1_n <span style="color:#f92672">=</span> pair_1_n_temp[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a dataframe pair_1_n_temp of all monthly crime rate in Summer</span>
</span></span><span style="display:flex;"><span>pair_2_n_temp <span style="color:#f92672">=</span> n_wales_grouped[n_wales_grouped[<span style="color:#e6db74">&#39;season&#39;</span>]<span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Summer&#39;</span>]
</span></span><span style="display:flex;"><span>pair_2_n_temp <span style="color:#f92672">=</span> pair_2_n_temp [pair_2_n_temp[<span style="color:#e6db74">&#39;Year&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;2019&#39;</span>]
</span></span><span style="display:flex;"><span>pair_2_n_temp <span style="color:#f92672">=</span> pair_2_n_temp[pair_2_n_temp[<span style="color:#e6db74">&#39;Crime type&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Burglary&#39;</span>]
</span></span><span style="display:flex;"><span>pair_2_n <span style="color:#f92672">=</span> pair_2_n_temp[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign outputs into stat and p</span>
</span></span><span style="display:flex;"><span>stat, p <span style="color:#f92672">=</span> ttest_rel(pair_1_n, pair_2_n)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#print output</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;stat=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">, p=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (stat, p))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> p <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we have enough statistical evidence to reject the null hypothesis and accept alternative hypothesis that the burglary crime rate during Winter and summer are  different&#39;</span>)
</span></span></code></pre></div><pre><code>stat=-2.312, p=0.147
At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same
</code></pre>
<h3 id="uresearch-question-50ubr-is-there-a-difference-in-burglary-rate-during-winter-and-summer-in-south-wales"><!-- raw HTML omitted -->Research Question 5.0<!-- raw HTML omitted --><!-- raw HTML omitted --> Is there a difference in Burglary rate during winter and Summer in South Wales?<a hidden class="anchor" aria-hidden="true" href="#uresearch-question-50ubr-is-there-a-difference-in-burglary-rate-during-winter-and-summer-in-south-wales">#</a></h3>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
In this experiment the goal is to compare the Burglary rate of the two seasons Winter and Summer and this means we are trying to compare two variables with the same response to the same subject which means we would use the Paired T test for this.</p>
<p>H0: the crime rate in winter and summer are the same.<!-- raw HTML omitted -->
H1: the crime rate in winter and summer are not the same.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Import the ttest_rel module from scipy</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy.stats <span style="color:#f92672">import</span> ttest_rel
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the south wales normed data as pair_1_n_temp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a dataframe pair_1_s of all monthly crime rate in Winter</span>
</span></span><span style="display:flex;"><span>pair_1_s_temp <span style="color:#f92672">=</span> s_wales_grouped[s_wales_grouped[<span style="color:#e6db74">&#39;season&#39;</span>]<span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Winter&#39;</span>]
</span></span><span style="display:flex;"><span>pair_1_s_temp <span style="color:#f92672">=</span> pair_1_s_temp [pair_1_s_temp[<span style="color:#e6db74">&#39;Year&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;2019&#39;</span>]
</span></span><span style="display:flex;"><span>pair_1_s_temp <span style="color:#f92672">=</span> pair_1_s_temp[pair_1_s_temp[<span style="color:#e6db74">&#39;Crime type&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Burglary&#39;</span>]
</span></span><span style="display:flex;"><span>pair_1_s <span style="color:#f92672">=</span> pair_1_s_temp[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a dataframe pair_2_s of all monthly crime rate in Winter</span>
</span></span><span style="display:flex;"><span>pair_2_s_temp <span style="color:#f92672">=</span> s_wales_grouped[n_wales_grouped[<span style="color:#e6db74">&#39;season&#39;</span>]<span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Summer&#39;</span>]
</span></span><span style="display:flex;"><span>pair_2_s_temp <span style="color:#f92672">=</span> pair_2_s_temp [pair_2_s_temp[<span style="color:#e6db74">&#39;Year&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;2019&#39;</span>]
</span></span><span style="display:flex;"><span>pair_2_s_temp <span style="color:#f92672">=</span> pair_2_s_temp[pair_2_s_temp[<span style="color:#e6db74">&#39;Crime type&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Burglary&#39;</span>]
</span></span><span style="display:flex;"><span>pair_2_s <span style="color:#f92672">=</span> pair_2_s_temp[<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign outputs into stat and p</span>
</span></span><span style="display:flex;"><span>stat, p <span style="color:#f92672">=</span> ttest_rel(pair_1_s, pair_2_s)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#print output</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;stat=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">, p=</span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (stat, p))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> p <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.05</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;At a 5</span><span style="color:#e6db74">% s</span><span style="color:#e6db74">ignificance level, we have enough statistical evidence to reject the null hypothesis and accept alternative hypothesis that the burglary crime rate during Winter and summer are  different&#39;</span>)
</span></span></code></pre></div><pre><code>stat=-0.453, p=0.695
At a 5% significance level, we do not have enough statistical evidence to reject the null hypothesis that the burglary crime rate during Winter and summer are the same
</code></pre>
<h1 id="50-heatmap">5.0 Heatmap<a hidden class="anchor" aria-hidden="true" href="#50-heatmap">#</a></h1>
<p>This is a simple heat map created using the Folium and Basemap library to model the crime recorded by both the North and South Wales police district</p>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
In this task we would be drawing a heatmap for crime rate in both North and South Wales</p>
<p>Details</p>
<ul>
<li>The library used is Folium which needs to be imported before use</li>
<li>To use this chunk of code you will need to import the joined csv file</li>
<li>The columns &lsquo;Context&rsquo;, &lsquo;Last outcome category&rsquo;,&lsquo;Crime ID&rsquo; needs to be dropped from both dataframes</li>
<li>There is a need for the concatenation of both datarames to create a single one</li>
<li>Use the zip method to combine the values in the longitude and latitude columnss</li>
<li>use the folium.Map method to set the default location of the map</li>
<li>Set the longitude and Latitude to be plotted</li>
</ul>
<p><!-- raw HTML omitted -->Warning!!!!!<!-- raw HTML omitted -->
Ensure you insert the path to the folder that contains the South and North wales dataset!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">heat_map</span>(path_n,path_s):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This is a function for creating heatmaps, the function takes the concatenated files for both North
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    and South wales dataset, it the uses this to produce heatmap for the crime rate of these regions&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#assign the north wales file to path_n</span>
</span></span><span style="display:flex;"><span>    map_n_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(path_n)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#assign the south wales file to path_s</span>
</span></span><span style="display:flex;"><span>    map_s_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(path_s)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#drop the unwanted columns</span>
</span></span><span style="display:flex;"><span>    map_n_wales <span style="color:#f92672">=</span> map_n_wales<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Context&#39;</span>, <span style="color:#e6db74">&#39;Last outcome category&#39;</span>,<span style="color:#e6db74">&#39;Crime ID&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#drop the unwanted columns</span>
</span></span><span style="display:flex;"><span>    map_s_wales <span style="color:#f92672">=</span> map_s_wales<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Context&#39;</span>, <span style="color:#e6db74">&#39;Last outcome category&#39;</span>,<span style="color:#e6db74">&#39;Crime ID&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#drop rows with missing values</span>
</span></span><span style="display:flex;"><span>    map_s_wales <span style="color:#f92672">=</span> map_s_wales<span style="color:#f92672">.</span>dropna()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#drop rows with missing values</span>
</span></span><span style="display:flex;"><span>    map_n_wales <span style="color:#f92672">=</span> map_n_wales<span style="color:#f92672">.</span>dropna()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#concatenate the cleaned north and south wales data</span>
</span></span><span style="display:flex;"><span>    map_s_n_wales <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([map_s_wales,map_n_wales])
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#zip two required columns and assign to a variable </span>
</span></span><span style="display:flex;"><span>    crime_locations <span style="color:#f92672">=</span> list(zip(map_s_n_wales<span style="color:#f92672">.</span>Latitude, map_s_n_wales<span style="color:#f92672">.</span>Longitude))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># generate map</span>
</span></span><span style="display:flex;"><span>    base_map <span style="color:#f92672">=</span> folium<span style="color:#f92672">.</span>Map(location<span style="color:#f92672">=</span>[<span style="color:#ae81ff">52.2417</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3.3777</span>], zoom_start<span style="color:#f92672">=</span><span style="color:#ae81ff">6.5</span>)
</span></span><span style="display:flex;"><span>    heatmap <span style="color:#f92672">=</span> plugins<span style="color:#f92672">.</span>HeatMap(crime_locations, radius<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, blur<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> base_map<span style="color:#f92672">.</span>add_child(heatmap)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#callfunction with two parameters the location of the South and North wales files</span>
</span></span><span style="display:flex;"><span>heat_map(<span style="color:#e6db74">&#39;/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Northwales/North_wales_tot.csv&#39;</span>,\
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#39;/home/kp/Documents/David Kidner Assessment/Assessment/Lateef M K 30028762/Southwales/South_wales_tot.csv&#39;</span>)
</span></span></code></pre></div><!-- raw HTML omitted -->
<h1 id="data-exploration-app">Data Exploration App<a hidden class="anchor" aria-hidden="true" href="#data-exploration-app">#</a></h1>
<p>This is a simple App created using the Tkinter and Pillow library to model the crime recorded by both the North and South Wales police district. The dataset used for this application has been normalized so it will be showing crime rae per population of 10,000 in both regions.</p>
<p><!-- raw HTML omitted -->To-do<!-- raw HTML omitted --><!-- raw HTML omitted -->
In this task we would be creating a application for our data exploration of the dataset.</p>
<p>Details</p>
<ul>
<li>The library used is Tkinter and Pillow which needs to be imported before use</li>
<li>To use this chunk of code you will need to ensure data wrangling phase of this document has been completed already</li>
<li>We also need to confirm that the logo file is in the same directory as this file being used.</li>
<li>This code contains 8 functions each with its own button on the GUI, on clicking any of this button the app would be prompted to run the related function and display the output.</li>
<li>The Seaborn module was used extensively in this code to create beautiful plots.</li>
<li>The App displays the output of any of the button clicked in this consile.</li>
<li>On running this block of code the application is initiated and you should see a pop where you can interact with the applications.</li>
<li>Always close the application after use to avoid interference when using other parts of this document.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> tkinter <span style="color:#66d9ef">as</span> tk
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image, ImageTk
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the root of the app</span>
</span></span><span style="display:flex;"><span>root <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Tk()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define the space the app would cover</span>
</span></span><span style="display:flex;"><span>canvas <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Canvas(root, width<span style="color:#f92672">=</span><span style="color:#ae81ff">900</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">300</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define the columns the app would span</span>
</span></span><span style="display:flex;"><span>canvas<span style="color:#f92672">.</span>grid(columnspan <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a logo using the pillow image library</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a variable logo to hold the image</span>
</span></span><span style="display:flex;"><span>logo <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;logo.png&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#use the photoimage method to insert the image as logo</span>
</span></span><span style="display:flex;"><span>logo <span style="color:#f92672">=</span> ImageTk<span style="color:#f92672">.</span>PhotoImage(logo)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the label</span>
</span></span><span style="display:flex;"><span>logo_label <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Label(image <span style="color:#f92672">=</span> logo)
</span></span><span style="display:flex;"><span>logo_label<span style="color:#f92672">.</span>image <span style="color:#f92672">=</span> logo
</span></span><span style="display:flex;"><span><span style="color:#75715e">#select the row and column image should appear</span>
</span></span><span style="display:flex;"><span>logo_label<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#instructions</span>
</span></span><span style="display:flex;"><span>instructions <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Label(root, text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Data Explorer&#39;</span>, font <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Raleway&#34;</span>)
</span></span><span style="display:flex;"><span>instructions<span style="color:#f92672">.</span>grid(columnspan <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, column <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">police_patrol</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This functions shows the top 10 locations within the different regions that has the highest crime rate
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    this is to recommend locations in need of frequent police patrol to curb crime in the area.&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># define a temporary variable to hold the count of crimes grouped by crime location</span>
</span></span><span style="display:flex;"><span>    n_policing_temp <span style="color:#f92672">=</span> n_wales[[<span style="color:#e6db74">&#39;LSOA name&#39;</span>,<span style="color:#e6db74">&#39;Crime type&#39;</span>]]<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;LSOA name&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#reset index of the variable to change the current index</span>
</span></span><span style="display:flex;"><span>    n_policing_temp<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#sort the values in descending order to show top values</span>
</span></span><span style="display:flex;"><span>    n_policing <span style="color:#f92672">=</span> n_policing_temp<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Crime type&#39;</span>],ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use seaborn barplot method to create a bar plot of the top 10 values and set a title</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>barplot(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Crime type&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;LSOA name&#39;</span>,  data<span style="color:#f92672">=</span> n_policing)\
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Top ten Crime locations in North Wales per 10,000 people&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># define a temporary variable to hold the count of crimes grouped by crime location</span>
</span></span><span style="display:flex;"><span>    s_policing_temp <span style="color:#f92672">=</span> s_wales[[<span style="color:#e6db74">&#39;LSOA name&#39;</span>,<span style="color:#e6db74">&#39;Crime type&#39;</span>]]<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;LSOA name&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#reset index of the variable to change the current index</span>
</span></span><span style="display:flex;"><span>    s_policing_temp<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#sort the values in descending order to show top values</span>
</span></span><span style="display:flex;"><span>    s_policing <span style="color:#f92672">=</span> s_policing_temp<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Crime type&#39;</span>],ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use seaborn barplot method to create a bar plot of the top 10 values and set a title</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>barplot(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Crime type&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;LSOA name&#39;</span>,  data<span style="color:#f92672">=</span> s_policing)\
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Top ten Crime locations in South Wales per 10,000 people&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(police_patrol)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#switch the button status to report generated</span>
</span></span><span style="display:flex;"><span>    browse_text<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Common_crimes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function creates a grid plot using seaborn to show the a monthly barplot of the crime rate of
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    the different crime type. The rows shows the month while the column shows the region.&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#North Wales to the Left and South Wales to the right</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#creating a FacetGrid with Seaborn library and this is where we select dataset to be used</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>FacetGrid(n_s_wales_grouped, row<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Month&#39;</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Region&#39;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">3.5</span>,aspect <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.65</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create a variable crime order to hold the order in which the plots would be displayed</span>
</span></span><span style="display:flex;"><span>    crime_order <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#lets populate the facetGrid with the specific plots and add the order</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>map(sns<span style="color:#f92672">.</span>barplot, <span style="color:#e6db74">&#39;Crime code&#39;</span>,<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>,order <span style="color:#f92672">=</span> crime_order )
</span></span><span style="display:flex;"><span>    grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>subplots_adjust(top<span style="color:#f92672">=</span><span style="color:#ae81ff">0.96</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#adding the title of the plot</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>suptitle(<span style="color:#e6db74">&#39;Most common crime types per 10,000 people in North and South Wales&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">28</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Common_crimes)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#show the crime codes</span>
</span></span><span style="display:flex;"><span>    print(crime_mapping)
</span></span><span style="display:flex;"><span>    browse_text2<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Covid_crimes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function displays a barplot showing a comparison between the crime rate before covid and during
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    covid, This was created using the seaborn gridplot module&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#North Wales to the Left and South Wales to the right</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#creating a FacetGrid with Seaborn library and assigning data to be used</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>FacetGrid(n_s_wales_grouped, row<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Covid&#39;</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Region&#39;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">3.5</span>,aspect <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.65</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create a variable crime order to hold the order in which the plots would be displayed</span>
</span></span><span style="display:flex;"><span>    crime_order2 <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#lets populate the facetGrid with the specific plots and add the order</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>map(sns<span style="color:#f92672">.</span>barplot, <span style="color:#e6db74">&#39;Crime code&#39;</span>,<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>,order <span style="color:#f92672">=</span> crime_order2)
</span></span><span style="display:flex;"><span>    grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>subplots_adjust(top<span style="color:#f92672">=</span><span style="color:#ae81ff">0.8</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#adding the title of the plot</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>fig<span style="color:#f92672">.</span>suptitle(<span style="color:#e6db74">&#39;Difference in crime rate before and during COVID 19 per 10,000 people&#39;</span>, fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">28</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Covid_crimes)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#show the crime codes</span>
</span></span><span style="display:flex;"><span>    print(crime_mapping)
</span></span><span style="display:flex;"><span>    browse_text3<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>)  
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Seasonal_crimes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function displays a barplot showing a comparison between the crime rate grouped by season, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    This was created using the seaborn gridplot module &#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#We will plot a grid plot with a barchart showing the Crime count by crime type monthly for each region </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#North Wales to the Left and South Wales to the right</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#creating a FacetGrid with Seaborn library and assigning data to be used</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>FacetGrid(n_s_wales_grouped, row<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;season&#39;</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Region&#39;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">3.5</span>,aspect <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.65</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create a variable crime order to hold the order in which the plots would be displayed</span>
</span></span><span style="display:flex;"><span>    crime_order3 <span style="color:#f92672">=</span> list(n_s_wales_grouped[<span style="color:#e6db74">&#39;Crime code&#39;</span>]<span style="color:#f92672">.</span>unique())
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#lets populate the facetGrid with the specific plots</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> grid<span style="color:#f92672">.</span>map(sns<span style="color:#f92672">.</span>barplot, <span style="color:#e6db74">&#39;Crime code&#39;</span>,<span style="color:#e6db74">&#39;Norm Crime count&#39;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>,order<span style="color:#f92672">=</span>crime_order3)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Seasonal_crimes)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#show the crime codes</span>
</span></span><span style="display:flex;"><span>    print(crime_mapping)
</span></span><span style="display:flex;"><span>    browse_text4<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crime_corr</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function displays the correlation between the normalized crime rates of North and South Wales,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    this was created using the scatterplot method of the seaborn library&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns of South wales data into a variable</span>
</span></span><span style="display:flex;"><span>    scat_s <span style="color:#f92672">=</span> dist_s_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#rename the column names using the rename method of pandas</span>
</span></span><span style="display:flex;"><span>    scat_s <span style="color:#f92672">=</span>scat_s<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Monthly Crime&#34;</span>: <span style="color:#e6db74">&#34;s_wales_cnt&#34;</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns of North wales data into a variable</span>
</span></span><span style="display:flex;"><span>    scat_n <span style="color:#f92672">=</span> dist_n_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#rename the column names using the rename method of pandas</span>
</span></span><span style="display:flex;"><span>    scat_n <span style="color:#f92672">=</span>scat_n<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Norm Monthly Crime&#34;</span>: <span style="color:#e6db74">&#34;n_wales_cnt&#34;</span>,<span style="color:#e6db74">&#39;Month&#39;</span>:<span style="color:#e6db74">&#39;Month2&#39;</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#concatenate the north and south wales data into one dataframe</span>
</span></span><span style="display:flex;"><span>    scatter_w <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([scat_s, scat_n], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#reset the index to change the current index</span>
</span></span><span style="display:flex;"><span>    scatter_w <span style="color:#f92672">=</span> scatter_w<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#drop one of the duplicated months</span>
</span></span><span style="display:flex;"><span>    scatter_w <span style="color:#f92672">=</span> scatter_w<span style="color:#f92672">.</span>drop([<span style="color:#e6db74">&#39;Month2&#39;</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use seaborn to plot a scatterplot for crime rate and set title of plot</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>scatterplot(data<span style="color:#f92672">=</span>scatter_w, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;s_wales_cnt&#34;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n_wales_cnt&#34;</span>)<span style="color:#f92672">.</span>\
</span></span><span style="display:flex;"><span>    set_title(<span style="color:#e6db74">&#34;Correlation Plot for North and South Wales crime rate&#34;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(crime_corr)
</span></span><span style="display:flex;"><span>    browse_text5<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>)  
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Highest_crime</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This is a bee swarmplot showing the normalized crime rate in each region i.e crime rate per 10,000 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    people in North and South wales. This was created using the seaborn library&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#nsert the required columns into the method and select data to be used</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>swarmplot(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Region&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>, data<span style="color:#f92672">=</span> Monthly_crime_count_tot)<span style="color:#f92672">.</span>\
</span></span><span style="display:flex;"><span>    set_title(<span style="color:#e6db74">&#34;Swarm Plot for North and South Wales crime rate per 10,000 people&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create the x axis label</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;Region&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#create the y axis label</span>
</span></span><span style="display:flex;"><span>    _ <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;Monthly Crime count&#39;</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(Highest_crime)
</span></span><span style="display:flex;"><span>    browse_text6<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>)  
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crime_evo</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;This function shows the evolution of crime over time in North and South Wales. This function
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    uses the normalized dataset which means it shows crime per 10,000 people in both regions&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns from the dataframe and set index for north data</span>
</span></span><span style="display:flex;"><span>    n_plot <span style="color:#f92672">=</span> dist_n_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Month&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#splice the required columns from the dataframe and set index for south data</span>
</span></span><span style="display:flex;"><span>    s_plot <span style="color:#f92672">=</span> dist_s_wales[[<span style="color:#e6db74">&#39;Month&#39;</span>,<span style="color:#e6db74">&#39;Norm Monthly Crime&#39;</span>]]<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Month&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#assign the northern plot to a variable</span>
</span></span><span style="display:flex;"><span>    ax <span style="color:#f92672">=</span> n_plot<span style="color:#f92672">.</span>plot()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#use the northern variable to create the southern plot</span>
</span></span><span style="display:flex;"><span>    s_plot<span style="color:#f92672">.</span>plot(ax<span style="color:#f92672">=</span>ax)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define the legend for the plot</span>
</span></span><span style="display:flex;"><span>    ax<span style="color:#f92672">.</span>legend([<span style="color:#e6db74">&#34;North Wales&#34;</span>, <span style="color:#e6db74">&#34;South Wales&#34;</span>])
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#call help method on this function to show what it does to the user</span>
</span></span><span style="display:flex;"><span>    help(crime_evo)
</span></span><span style="display:flex;"><span>    browse_text7<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>) 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">pop_crime_type</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;&#39;&#39;The goal of this function is to display a piechart with the most popular crime types. This was created
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    using the pie method in pandas&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#plot the crime types of North wales on a piechart</span>
</span></span><span style="display:flex;"><span>    plot <span style="color:#f92672">=</span> crime_cnt_n_wales<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Crime type&#39;</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>pie(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Percent&#39;</span>,figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#plot the crime types of south wales on a piechart</span>
</span></span><span style="display:flex;"><span>    plot <span style="color:#f92672">=</span> crime_cnt_s_wales<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Crime type&#39;</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>pie(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Percent&#39;</span>,figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>))
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>    browse_text8<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Report Generated, check console&#34;</span>) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#75715e">#police_patrol button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the police_patrol function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text,command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:police_patrol(), \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Generate areas in need of patrol&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Common_crimes button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text2 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the Common_crimes function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn2 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text2, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:Common_crimes(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text2<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Common Crimes in North and South Wales&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn2<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Common_crimes button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text3 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the Common_crimes function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn3 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text3, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:Covid_crimes(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text3<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Pre-Covid Crimes Vs Covid Crimes&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn3<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Seasonal_crimes button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text4 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the Seasonal_crimes function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn4 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text4, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:Seasonal_crimes(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text4<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Crime rate by Season&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn4<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#crime_corr button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text5 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the crime_corr function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn5 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text5, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:crime_corr(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text5<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;North and South Wales Crime correlation&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn5<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Highest_crime button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text6 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the Highest_crime function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn6 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text6, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:Highest_crime(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text6<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Region With Highest Crime Rate&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn6<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">9</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#crime_evo button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text7 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the crime_evo function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn7 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text7, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:crime_evo(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text7<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Evolution of crime over time&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn7<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#pop_crime_type button   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the browse text as a string</span>
</span></span><span style="display:flex;"><span>browse_text8 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>StringVar()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#create a button to call the pop_crime_type function on click and assign the parameters</span>
</span></span><span style="display:flex;"><span>browse_btn8 <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Button(root, textvariable<span style="color:#f92672">=</span>browse_text8, \
</span></span><span style="display:flex;"><span>                       font<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Raleway&#34;</span>, bg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#20bebe&#34;</span>, fg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>, command <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>:pop_crime_type(), \
</span></span><span style="display:flex;"><span>                        height<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set the name of the button</span>
</span></span><span style="display:flex;"><span>browse_text8<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#34;Popular Crime type in North and South Wales&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#assign the column and row the button should appear</span>
</span></span><span style="display:flex;"><span>browse_btn8<span style="color:#f92672">.</span>grid(column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, row<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>canvas <span style="color:#f92672">=</span> tk<span style="color:#f92672">.</span>Canvas(root, width<span style="color:#f92672">=</span><span style="color:#ae81ff">600</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">250</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#set how many columns the app should span</span>
</span></span><span style="display:flex;"><span>canvas<span style="color:#f92672">.</span>grid(columnspan<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root<span style="color:#f92672">.</span>mainloop()
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Open Learning University Data Analysis on twitter"
        href="https://twitter.com/intent/tweet/?text=Open%20Learning%20University%20Data%20Analysis&amp;url=https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f&amp;hashtags=">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Open Learning University Data Analysis on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f&amp;title=Open%20Learning%20University%20Data%20Analysis&amp;summary=Open%20Learning%20University%20Data%20Analysis&amp;source=https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Open Learning University Data Analysis on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f&title=Open%20Learning%20University%20Data%20Analysis">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Open Learning University Data Analysis on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Open Learning University Data Analysis on whatsapp"
        href="https://api.whatsapp.com/send?text=Open%20Learning%20University%20Data%20Analysis%20-%20https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Open Learning University Data Analysis on telegram"
        href="https://telegram.me/share/url?text=Open%20Learning%20University%20Data%20Analysis&amp;url=https%3a%2f%2fmuizzkolapo.github.io%2fblog%2fdocs%2flearning_anallytics%2fanalysis%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://muizzkolapo.github.io/blog/">Muizzkolapo</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
